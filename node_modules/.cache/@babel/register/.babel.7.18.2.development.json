{"{\"assumptions\":{},\"sourceRoot\":\"/root/alx-files_manager/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/root/alx-files_manager\",\"filename\":\"/root/alx-files_manager/main_0.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/root/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.2:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _redis = _interopRequireDefault(require(\"./utils/redis\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n  return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          console.log(_redis[\"default\"].isAlive());\n          _context2.t0 = console;\n          _context2.next = 4;\n          return _redis[\"default\"].get('myKey');\n\n        case 4:\n          _context2.t1 = _context2.sent;\n\n          _context2.t0.log.call(_context2.t0, _context2.t1);\n\n          _context2.next = 8;\n          return _redis[\"default\"].set('myKey', 12, 5);\n\n        case 8:\n          _context2.t2 = console;\n          _context2.next = 11;\n          return _redis[\"default\"].get('myKey');\n\n        case 11:\n          _context2.t3 = _context2.sent;\n\n          _context2.t2.log.call(_context2.t2, _context2.t3);\n\n          setTimeout( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n            return _regeneratorRuntime().wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    _context.t0 = console;\n                    _context.next = 3;\n                    return _redis[\"default\"].get('myKey');\n\n                  case 3:\n                    _context.t1 = _context.sent;\n\n                    _context.t0.log.call(_context.t0, _context.t1);\n\n                  case 5:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee);\n          })), 1000 * 10);\n\n        case 14:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _callee2);\n}))();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25zb2xlIiwibG9nIiwicmVkaXNDbGllbnQiLCJpc0FsaXZlIiwiZ2V0Iiwic2V0Iiwic2V0VGltZW91dCJdLCJzb3VyY2VSb290IjoiL3Jvb3QvYWx4LWZpbGVzX21hbmFnZXIvIiwic291cmNlcyI6WyJtYWluXzAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlZGlzQ2xpZW50IGZyb20gJy4vdXRpbHMvcmVkaXMnO1xuXG4oYXN5bmMgKCkgPT4ge1xuICAgIFxuICAgIGNvbnNvbGUubG9nKHJlZGlzQ2xpZW50LmlzQWxpdmUoKSk7XG4gICAgXG4gICAgY29uc29sZS5sb2coYXdhaXQgcmVkaXNDbGllbnQuZ2V0KCdteUtleScpKTtcbiAgICBcbiAgICBhd2FpdCByZWRpc0NsaWVudC5zZXQoJ215S2V5JywgMTIsIDUpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGF3YWl0IHJlZGlzQ2xpZW50LmdldCgnbXlLZXknKSk7XG4gICAgXG5cbiAgICBcbiAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcblx0XG4gICAgICAgIGNvbnNvbGUubG9nKGF3YWl0IHJlZGlzQ2xpZW50LmdldCgnbXlLZXknKSk7XG5cdFxuICAgIH0sIDEwMDAqMTApXG4gICAgXG59KSgpO1xuIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7Ozs7K0NBQ0Esb0o7Ozs7OztBQUNBLDJEQUFDO0VBQUE7SUFBQTtNQUFBO1FBQUE7VUFFR0EsT0FBTyxDQUFDQyxHQUFSLENBQVlDLGlCQUFBLENBQVlDLE9BQVosRUFBWjtVQUZILGVBSUdILE9BSkg7VUFBQTtVQUFBLE9BSXFCRSxpQkFBQSxDQUFZRSxHQUFaLENBQWdCLE9BQWhCLENBSnJCOztRQUFBO1VBQUE7O1VBQUEsYUFJV0gsR0FKWDs7VUFBQTtVQUFBLE9BTVNDLGlCQUFBLENBQVlHLEdBQVosQ0FBZ0IsT0FBaEIsRUFBeUIsRUFBekIsRUFBNkIsQ0FBN0IsQ0FOVDs7UUFBQTtVQUFBLGVBUUdMLE9BUkg7VUFBQTtVQUFBLE9BUXFCRSxpQkFBQSxDQUFZRSxHQUFaLENBQWdCLE9BQWhCLENBUnJCOztRQUFBO1VBQUE7O1VBQUEsYUFRV0gsR0FSWDs7VUFZR0ssVUFBVSwwRUFBQztZQUFBO2NBQUE7Z0JBQUE7a0JBQUE7b0JBQUEsY0FFUE4sT0FGTztvQkFBQTtvQkFBQSxPQUVXRSxpQkFBQSxDQUFZRSxHQUFaLENBQWdCLE9BQWhCLENBRlg7O2tCQUFBO29CQUFBOztvQkFBQSxZQUVDSCxHQUZEOztrQkFBQTtrQkFBQTtvQkFBQTtnQkFBQTtjQUFBO1lBQUE7VUFBQSxDQUFELElBSVAsT0FBSyxFQUpFLENBQVY7O1FBWkg7UUFBQTtVQUFBO01BQUE7SUFBQTtFQUFBO0FBQUEsQ0FBRCJ9","map":{"version":3,"names":["console","log","redisClient","isAlive","get","set","setTimeout"],"sourceRoot":"/root/alx-files_manager/","sources":["main_0.js"],"sourcesContent":["import redisClient from './utils/redis';\n\n(async () => {\n    \n    console.log(redisClient.isAlive());\n    \n    console.log(await redisClient.get('myKey'));\n    \n    await redisClient.set('myKey', 12, 5);\n    \n    console.log(await redisClient.get('myKey'));\n    \n\n    \n    setTimeout(async () => {\n\t\n        console.log(await redisClient.get('myKey'));\n\t\n    }, 1000*10)\n    \n})();\n"],"mappings":";;;;AAAA;;;;+CACA,oJ;;;;;;AACA,2DAAC;EAAA;IAAA;MAAA;QAAA;UAEGA,OAAO,CAACC,GAAR,CAAYC,iBAAA,CAAYC,OAAZ,EAAZ;UAFH,eAIGH,OAJH;UAAA;UAAA,OAIqBE,iBAAA,CAAYE,GAAZ,CAAgB,OAAhB,CAJrB;;QAAA;UAAA;;UAAA,aAIWH,GAJX;;UAAA;UAAA,OAMSC,iBAAA,CAAYG,GAAZ,CAAgB,OAAhB,EAAyB,EAAzB,EAA6B,CAA7B,CANT;;QAAA;UAAA,eAQGL,OARH;UAAA;UAAA,OAQqBE,iBAAA,CAAYE,GAAZ,CAAgB,OAAhB,CARrB;;QAAA;UAAA;;UAAA,aAQWH,GARX;;UAYGK,UAAU,0EAAC;YAAA;cAAA;gBAAA;kBAAA;oBAAA,cAEPN,OAFO;oBAAA;oBAAA,OAEWE,iBAAA,CAAYE,GAAZ,CAAgB,OAAhB,CAFX;;kBAAA;oBAAA;;oBAAA,YAECH,GAFD;;kBAAA;kBAAA;oBAAA;gBAAA;cAAA;YAAA;UAAA,CAAD,IAIP,OAAK,EAJE,CAAV;;QAZH;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA,CAAD"}},"mtime":1655444184841},"{\"assumptions\":{},\"sourceRoot\":\"/root/alx-files_manager/utils/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/root/alx-files_manager\",\"filename\":\"/root/alx-files_manager/utils/redis.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/root/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.2:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar redis = require('redis');\n\nvar _require = require('util'),\n    promisify = _require.promisify;\n\nvar RedisClient = /*#__PURE__*/function () {\n  function RedisClient() {\n    _classCallCheck(this, RedisClient);\n\n    this.client = redis.createClient();\n    this.getAsync = promisify(this.client.get).bind(this.client);\n    this.client.on('error', function (error) {\n      console.log(\"Redis client not connected to the server: \".concat(error.message));\n    });\n  }\n\n  _createClass(RedisClient, [{\n    key: \"isAlive\",\n    value: function isAlive() {\n      return this.client.connected;\n    }\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(key) {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", this.getAsync(key));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function get(_x) {\n        return _get.apply(this, arguments);\n      }\n\n      return get;\n    }()\n  }, {\n    key: \"set\",\n    value: function () {\n      var _set = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(key, value, duration) {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.client.setex(key, duration, value);\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function set(_x2, _x3, _x4) {\n        return _set.apply(this, arguments);\n      }\n\n      return set;\n    }()\n  }, {\n    key: \"del\",\n    value: function () {\n      var _del = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(key) {\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.client.del(key);\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function del(_x5) {\n        return _del.apply(this, arguments);\n      }\n\n      return del;\n    }()\n  }]);\n\n  return RedisClient;\n}();\n\nvar redisClient = new RedisClient();\nvar _default = redisClient;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWRpcyIsInJlcXVpcmUiLCJwcm9taXNpZnkiLCJSZWRpc0NsaWVudCIsImNsaWVudCIsImNyZWF0ZUNsaWVudCIsImdldEFzeW5jIiwiZ2V0IiwiYmluZCIsIm9uIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwibWVzc2FnZSIsImNvbm5lY3RlZCIsImtleSIsInZhbHVlIiwiZHVyYXRpb24iLCJzZXRleCIsImRlbCIsInJlZGlzQ2xpZW50Il0sInNvdXJjZVJvb3QiOiIvcm9vdC9hbHgtZmlsZXNfbWFuYWdlci91dGlscy8iLCJzb3VyY2VzIjpbInJlZGlzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlZGlzID0gcmVxdWlyZSgncmVkaXMnKTtcbmNvbnN0IHsgcHJvbWlzaWZ5IH0gPSByZXF1aXJlKCd1dGlsJyk7XG5cbmNsYXNzIFJlZGlzQ2xpZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jbGllbnQgPSByZWRpcy5jcmVhdGVDbGllbnQoKTtcbiAgICB0aGlzLmdldEFzeW5jID0gcHJvbWlzaWZ5KHRoaXMuY2xpZW50LmdldCkuYmluZCh0aGlzLmNsaWVudCk7XG4gICAgdGhpcy5jbGllbnQub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhgUmVkaXMgY2xpZW50IG5vdCBjb25uZWN0ZWQgdG8gdGhlIHNlcnZlcjogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgIH0pO1xuICB9XG5cbiAgaXNBbGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuY29ubmVjdGVkO1xuICB9XG5cbiAgYXN5bmMgZ2V0KGtleSkge1xuICAgIHJldHVybiB0aGlzLmdldEFzeW5jKGtleSk7XG4gIH1cblxuICBhc3luYyBzZXQoa2V5LCB2YWx1ZSwgZHVyYXRpb24pIHtcbiAgICB0aGlzLmNsaWVudC5zZXRleChrZXksIGR1cmF0aW9uLCB2YWx1ZSk7XG4gIH1cblxuICBhc3luYyBkZWwoa2V5KSB7XG4gICAgdGhpcy5jbGllbnQuZGVsKGtleSk7XG4gIH1cbn1cblxuY29uc3QgcmVkaXNDbGllbnQgPSBuZXcgUmVkaXNDbGllbnQoKTtcbmV4cG9ydCBkZWZhdWx0IHJlZGlzQ2xpZW50O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7K0NBQ0Esb0o7Ozs7Ozs7Ozs7OztBQURBLElBQU1BLEtBQUssR0FBR0MsT0FBTyxDQUFDLE9BQUQsQ0FBckI7O0FBQ0EsZUFBc0JBLE9BQU8sQ0FBQyxNQUFELENBQTdCO0FBQUEsSUFBUUMsU0FBUixZQUFRQSxTQUFSOztJQUVNQyxXO0VBQ0osdUJBQWM7SUFBQTs7SUFDWixLQUFLQyxNQUFMLEdBQWNKLEtBQUssQ0FBQ0ssWUFBTixFQUFkO0lBQ0EsS0FBS0MsUUFBTCxHQUFnQkosU0FBUyxDQUFDLEtBQUtFLE1BQUwsQ0FBWUcsR0FBYixDQUFULENBQTJCQyxJQUEzQixDQUFnQyxLQUFLSixNQUFyQyxDQUFoQjtJQUNBLEtBQUtBLE1BQUwsQ0FBWUssRUFBWixDQUFlLE9BQWYsRUFBd0IsVUFBQ0MsS0FBRCxFQUFXO01BQ2pDQyxPQUFPLENBQUNDLEdBQVIscURBQXlERixLQUFLLENBQUNHLE9BQS9EO0lBQ0QsQ0FGRDtFQUdEOzs7O1dBRUQsbUJBQVU7TUFDUixPQUFPLEtBQUtULE1BQUwsQ0FBWVUsU0FBbkI7SUFDRDs7Ozs0RUFFRCxpQkFBVUMsR0FBVjtRQUFBO1VBQUE7WUFBQTtjQUFBO2dCQUFBLGlDQUNTLEtBQUtULFFBQUwsQ0FBY1MsR0FBZCxDQURUOztjQUFBO2NBQUE7Z0JBQUE7WUFBQTtVQUFBO1FBQUE7TUFBQSxDOzs7Ozs7Ozs7Ozs0RUFJQSxrQkFBVUEsR0FBVixFQUFlQyxLQUFmLEVBQXNCQyxRQUF0QjtRQUFBO1VBQUE7WUFBQTtjQUFBO2dCQUNFLEtBQUtiLE1BQUwsQ0FBWWMsS0FBWixDQUFrQkgsR0FBbEIsRUFBdUJFLFFBQXZCLEVBQWlDRCxLQUFqQzs7Y0FERjtjQUFBO2dCQUFBO1lBQUE7VUFBQTtRQUFBO01BQUEsQzs7Ozs7Ozs7Ozs7NEVBSUEsa0JBQVVELEdBQVY7UUFBQTtVQUFBO1lBQUE7Y0FBQTtnQkFDRSxLQUFLWCxNQUFMLENBQVllLEdBQVosQ0FBZ0JKLEdBQWhCOztjQURGO2NBQUE7Z0JBQUE7WUFBQTtVQUFBO1FBQUE7TUFBQSxDOzs7Ozs7Ozs7Ozs7O0FBS0YsSUFBTUssV0FBVyxHQUFHLElBQUlqQixXQUFKLEVBQXBCO2VBQ2VpQixXIn0=","map":{"version":3,"names":["redis","require","promisify","RedisClient","client","createClient","getAsync","get","bind","on","error","console","log","message","connected","key","value","duration","setex","del","redisClient"],"sourceRoot":"/root/alx-files_manager/utils/","sources":["redis.js"],"sourcesContent":["const redis = require('redis');\nconst { promisify } = require('util');\n\nclass RedisClient {\n  constructor() {\n    this.client = redis.createClient();\n    this.getAsync = promisify(this.client.get).bind(this.client);\n    this.client.on('error', (error) => {\n      console.log(`Redis client not connected to the server: ${error.message}`);\n    });\n  }\n\n  isAlive() {\n    return this.client.connected;\n  }\n\n  async get(key) {\n    return this.getAsync(key);\n  }\n\n  async set(key, value, duration) {\n    this.client.setex(key, duration, value);\n  }\n\n  async del(key) {\n    this.client.del(key);\n  }\n}\n\nconst redisClient = new RedisClient();\nexport default redisClient;\n"],"mappings":";;;;;;;;;+CACA,oJ;;;;;;;;;;;;AADA,IAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,eAAsBA,OAAO,CAAC,MAAD,CAA7B;AAAA,IAAQC,SAAR,YAAQA,SAAR;;IAEMC,W;EACJ,uBAAc;IAAA;;IACZ,KAAKC,MAAL,GAAcJ,KAAK,CAACK,YAAN,EAAd;IACA,KAAKC,QAAL,GAAgBJ,SAAS,CAAC,KAAKE,MAAL,CAAYG,GAAb,CAAT,CAA2BC,IAA3B,CAAgC,KAAKJ,MAArC,CAAhB;IACA,KAAKA,MAAL,CAAYK,EAAZ,CAAe,OAAf,EAAwB,UAACC,KAAD,EAAW;MACjCC,OAAO,CAACC,GAAR,qDAAyDF,KAAK,CAACG,OAA/D;IACD,CAFD;EAGD;;;;WAED,mBAAU;MACR,OAAO,KAAKT,MAAL,CAAYU,SAAnB;IACD;;;;4EAED,iBAAUC,GAAV;QAAA;UAAA;YAAA;cAAA;gBAAA,iCACS,KAAKT,QAAL,CAAcS,GAAd,CADT;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;4EAIA,kBAAUA,GAAV,EAAeC,KAAf,EAAsBC,QAAtB;QAAA;UAAA;YAAA;cAAA;gBACE,KAAKb,MAAL,CAAYc,KAAZ,CAAkBH,GAAlB,EAAuBE,QAAvB,EAAiCD,KAAjC;;cADF;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;4EAIA,kBAAUD,GAAV;QAAA;UAAA;YAAA;cAAA;gBACE,KAAKX,MAAL,CAAYe,GAAZ,CAAgBJ,GAAhB;;cADF;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;;;AAKF,IAAMK,WAAW,GAAG,IAAIjB,WAAJ,EAApB;eACeiB,W"}},"mtime":1655463520040},"{\"assumptions\":{},\"sourceRoot\":\"/root/alx-files_manager/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/root/alx-files_manager\",\"filename\":\"/root/alx-files_manager/server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/root/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.2:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _index = _interopRequireDefault(require(\"./routes/index\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar myPort = process.env.PORT || 5000;\nvar app = (0, _express[\"default\"])();\napp.use(_express[\"default\"].json());\n(0, _index[\"default\"])(app);\napp.listen(myPort, function () {\n  console.log(\"Server running on port \".concat(myPort));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJteVBvcnQiLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsImFwcCIsImV4cHJlc3MiLCJ1c2UiLCJqc29uIiwiY29udHJvbGxlclJvdXRpbmciLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIvcm9vdC9hbHgtZmlsZXNfbWFuYWdlci8iLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBjb250cm9sbGVyUm91dGluZyBmcm9tICcuL3JvdXRlcy9pbmRleCc7XG5cbmNvbnN0IG15UG9ydCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgNTAwMDtcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xuXG5jb250cm9sbGVyUm91dGluZyhhcHApO1xuYXBwLmxpc3RlbihteVBvcnQsICgpID0+IHtcbiAgY29uc29sZS5sb2coYFNlcnZlciBydW5uaW5nIG9uIHBvcnQgJHtteVBvcnR9YCk7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7OztBQUVBLElBQU1BLE1BQU0sR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlDLElBQVosSUFBb0IsSUFBbkM7QUFDQSxJQUFNQyxHQUFHLEdBQUcsSUFBQUMsbUJBQUEsR0FBWjtBQUNBRCxHQUFHLENBQUNFLEdBQUosQ0FBUUQsbUJBQUEsQ0FBUUUsSUFBUixFQUFSO0FBRUEsSUFBQUMsaUJBQUEsRUFBa0JKLEdBQWxCO0FBQ0FBLEdBQUcsQ0FBQ0ssTUFBSixDQUFXVCxNQUFYLEVBQW1CLFlBQU07RUFDdkJVLE9BQU8sQ0FBQ0MsR0FBUixrQ0FBc0NYLE1BQXRDO0FBQ0QsQ0FGRCJ9","map":{"version":3,"names":["myPort","process","env","PORT","app","express","use","json","controllerRouting","listen","console","log"],"sourceRoot":"/root/alx-files_manager/","sources":["server.js"],"sourcesContent":["import express from 'express';\nimport controllerRouting from './routes/index';\n\nconst myPort = process.env.PORT || 5000;\nconst app = express();\napp.use(express.json());\n\ncontrollerRouting(app);\napp.listen(myPort, () => {\n  console.log(`Server running on port ${myPort}`);\n});\n"],"mappings":";;AAAA;;AACA;;;;AAEA,IAAMA,MAAM,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAAnC;AACA,IAAMC,GAAG,GAAG,IAAAC,mBAAA,GAAZ;AACAD,GAAG,CAACE,GAAJ,CAAQD,mBAAA,CAAQE,IAAR,EAAR;AAEA,IAAAC,iBAAA,EAAkBJ,GAAlB;AACAA,GAAG,CAACK,MAAJ,CAAWT,MAAX,EAAmB,YAAM;EACvBU,OAAO,CAACC,GAAR,kCAAsCX,MAAtC;AACD,CAFD"}},"mtime":1655703612811},"{\"assumptions\":{},\"sourceRoot\":\"/root/alx-files_manager/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/root/alx-files_manager\",\"filename\":\"/root/alx-files_manager/routes/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/root/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _AppController = _interopRequireDefault(require(\"../controllers/AppController\"));\n\nvar _AuthController = _interopRequireDefault(require(\"../controllers/AuthController\"));\n\nvar _FilesController = _interopRequireDefault(require(\"../controllers/FilesController\"));\n\nvar _UsersController = _interopRequireDefault(require(\"../controllers/UsersController\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction controllerRouting(app) {\n  var router = _express[\"default\"].Router();\n\n  app.use('/', router);\n  router.get('/status', function (req, res) {\n    _AppController[\"default\"].getStatus(req, res);\n  });\n  router.get('/stats', function (req, res) {\n    _AppController[\"default\"].getStats(req, res);\n  });\n  router.post('/users', function (req, res) {\n    _UsersController[\"default\"].postNew(req, res);\n  });\n  router.get('/connect', function (req, res) {\n    _AuthController[\"default\"].getConnect(req, res);\n  });\n  router.get('/disconnect', function (req, res) {\n    _AuthController[\"default\"].getDisconnect(req, res);\n  });\n  router.get('/users/me', function (req, res) {\n    _UsersController[\"default\"].getMe(req, res);\n  });\n  router.post('/files', function (req, res) {\n    _FilesController[\"default\"].postUpload(req, res);\n  });\n  router.get('/files/:id', function (req, res) {\n    _FilesController[\"default\"].getShow(req, res);\n  });\n  router.get('/files', function (req, res) {\n    _FilesController[\"default\"].getIndex(req, res);\n  });\n  router.put('/files/:id/publish', function (req, res) {\n    _FilesController[\"default\"].putPublish(req, res);\n  });\n  router.put('/files/:id/unpublish', function (req, res) {\n    _FilesController[\"default\"].putUnpublish(req, res);\n  });\n  router.get('/files/:id/data', function (req, res) {\n    _FilesController[\"default\"].getFile(req, res);\n  });\n}\n\nvar _default = controllerRouting;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb250cm9sbGVyUm91dGluZyIsImFwcCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJ1c2UiLCJnZXQiLCJyZXEiLCJyZXMiLCJBcHBDb250cm9sbGVyIiwiZ2V0U3RhdHVzIiwiZ2V0U3RhdHMiLCJwb3N0IiwiVXNlcnNDb250cm9sbGVyIiwicG9zdE5ldyIsIkF1dGhDb250cm9sbGVyIiwiZ2V0Q29ubmVjdCIsImdldERpc2Nvbm5lY3QiLCJnZXRNZSIsIkZpbGVzQ29udHJvbGxlciIsInBvc3RVcGxvYWQiLCJnZXRTaG93IiwiZ2V0SW5kZXgiLCJwdXQiLCJwdXRQdWJsaXNoIiwicHV0VW5wdWJsaXNoIiwiZ2V0RmlsZSJdLCJzb3VyY2VSb290IjoiL3Jvb3QvYWx4LWZpbGVzX21hbmFnZXIvcm91dGVzLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgQXBwQ29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9BcHBDb250cm9sbGVyJztcbmltcG9ydCBBdXRoQ29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9BdXRoQ29udHJvbGxlcic7XG5pbXBvcnQgRmlsZXNDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL0ZpbGVzQ29udHJvbGxlcic7XG5pbXBvcnQgVXNlcnNDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL1VzZXJzQ29udHJvbGxlcic7XG5cbmZ1bmN0aW9uIGNvbnRyb2xsZXJSb3V0aW5nKGFwcCkge1xuICBjb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuICBhcHAudXNlKCcvJywgcm91dGVyKTtcblxuICByb3V0ZXIuZ2V0KCcvc3RhdHVzJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgQXBwQ29udHJvbGxlci5nZXRTdGF0dXMocmVxLCByZXMpO1xuICB9KTtcbiAgcm91dGVyLmdldCgnL3N0YXRzJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgQXBwQ29udHJvbGxlci5nZXRTdGF0cyhyZXEsIHJlcyk7XG4gIH0pO1xuXG4gIHJvdXRlci5wb3N0KCcvdXNlcnMnLCAocmVxLCByZXMpID0+IHtcbiAgICBVc2Vyc0NvbnRyb2xsZXIucG9zdE5ldyhyZXEsIHJlcyk7XG4gIH0pO1xuXG4gIHJvdXRlci5nZXQoJy9jb25uZWN0JywgKHJlcSwgcmVzKSA9PiB7XG4gICAgQXV0aENvbnRyb2xsZXIuZ2V0Q29ubmVjdChyZXEsIHJlcyk7XG4gIH0pO1xuXG4gIHJvdXRlci5nZXQoJy9kaXNjb25uZWN0JywgKHJlcSwgcmVzKSA9PiB7XG4gICAgQXV0aENvbnRyb2xsZXIuZ2V0RGlzY29ubmVjdChyZXEsIHJlcyk7XG4gIH0pO1xuXG4gIHJvdXRlci5nZXQoJy91c2Vycy9tZScsIChyZXEsIHJlcykgPT4ge1xuICAgIFVzZXJzQ29udHJvbGxlci5nZXRNZShyZXEsIHJlcyk7XG4gIH0pO1xuXG4gIHJvdXRlci5wb3N0KCcvZmlsZXMnLCAocmVxLCByZXMpID0+IHtcbiAgICBGaWxlc0NvbnRyb2xsZXIucG9zdFVwbG9hZChyZXEsIHJlcyk7XG4gIH0pO1xuXG4gIHJvdXRlci5nZXQoJy9maWxlcy86aWQnLCAocmVxLCByZXMpID0+IHtcbiAgICBGaWxlc0NvbnRyb2xsZXIuZ2V0U2hvdyhyZXEsIHJlcyk7XG4gIH0pO1xuICByb3V0ZXIuZ2V0KCcvZmlsZXMnLCAocmVxLCByZXMpID0+IHtcbiAgICBGaWxlc0NvbnRyb2xsZXIuZ2V0SW5kZXgocmVxLCByZXMpO1xuICB9KTtcbiAgcm91dGVyLnB1dCgnL2ZpbGVzLzppZC9wdWJsaXNoJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgRmlsZXNDb250cm9sbGVyLnB1dFB1Ymxpc2gocmVxLCByZXMpO1xuICB9KTtcbiAgcm91dGVyLnB1dCgnL2ZpbGVzLzppZC91bnB1Ymxpc2gnLCAocmVxLCByZXMpID0+IHtcbiAgICBGaWxlc0NvbnRyb2xsZXIucHV0VW5wdWJsaXNoKHJlcSwgcmVzKTtcbiAgfSk7XG4gIHJvdXRlci5nZXQoJy9maWxlcy86aWQvZGF0YScsIChyZXEsIHJlcykgPT4ge1xuICAgIEZpbGVzQ29udHJvbGxlci5nZXRGaWxlKHJlcSwgcmVzKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbnRyb2xsZXJSb3V0aW5nO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxTQUFTQSxpQkFBVCxDQUEyQkMsR0FBM0IsRUFBZ0M7RUFDOUIsSUFBTUMsTUFBTSxHQUFHQyxtQkFBQSxDQUFRQyxNQUFSLEVBQWY7O0VBQ0FILEdBQUcsQ0FBQ0ksR0FBSixDQUFRLEdBQVIsRUFBYUgsTUFBYjtFQUVBQSxNQUFNLENBQUNJLEdBQVAsQ0FBVyxTQUFYLEVBQXNCLFVBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFjO0lBQ2xDQyx5QkFBQSxDQUFjQyxTQUFkLENBQXdCSCxHQUF4QixFQUE2QkMsR0FBN0I7RUFDRCxDQUZEO0VBR0FOLE1BQU0sQ0FBQ0ksR0FBUCxDQUFXLFFBQVgsRUFBcUIsVUFBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQWM7SUFDakNDLHlCQUFBLENBQWNFLFFBQWQsQ0FBdUJKLEdBQXZCLEVBQTRCQyxHQUE1QjtFQUNELENBRkQ7RUFJQU4sTUFBTSxDQUFDVSxJQUFQLENBQVksUUFBWixFQUFzQixVQUFDTCxHQUFELEVBQU1DLEdBQU4sRUFBYztJQUNsQ0ssMkJBQUEsQ0FBZ0JDLE9BQWhCLENBQXdCUCxHQUF4QixFQUE2QkMsR0FBN0I7RUFDRCxDQUZEO0VBSUFOLE1BQU0sQ0FBQ0ksR0FBUCxDQUFXLFVBQVgsRUFBdUIsVUFBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQWM7SUFDbkNPLDBCQUFBLENBQWVDLFVBQWYsQ0FBMEJULEdBQTFCLEVBQStCQyxHQUEvQjtFQUNELENBRkQ7RUFJQU4sTUFBTSxDQUFDSSxHQUFQLENBQVcsYUFBWCxFQUEwQixVQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBYztJQUN0Q08sMEJBQUEsQ0FBZUUsYUFBZixDQUE2QlYsR0FBN0IsRUFBa0NDLEdBQWxDO0VBQ0QsQ0FGRDtFQUlBTixNQUFNLENBQUNJLEdBQVAsQ0FBVyxXQUFYLEVBQXdCLFVBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFjO0lBQ3BDSywyQkFBQSxDQUFnQkssS0FBaEIsQ0FBc0JYLEdBQXRCLEVBQTJCQyxHQUEzQjtFQUNELENBRkQ7RUFJQU4sTUFBTSxDQUFDVSxJQUFQLENBQVksUUFBWixFQUFzQixVQUFDTCxHQUFELEVBQU1DLEdBQU4sRUFBYztJQUNsQ1csMkJBQUEsQ0FBZ0JDLFVBQWhCLENBQTJCYixHQUEzQixFQUFnQ0MsR0FBaEM7RUFDRCxDQUZEO0VBSUFOLE1BQU0sQ0FBQ0ksR0FBUCxDQUFXLFlBQVgsRUFBeUIsVUFBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQWM7SUFDckNXLDJCQUFBLENBQWdCRSxPQUFoQixDQUF3QmQsR0FBeEIsRUFBNkJDLEdBQTdCO0VBQ0QsQ0FGRDtFQUdBTixNQUFNLENBQUNJLEdBQVAsQ0FBVyxRQUFYLEVBQXFCLFVBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFjO0lBQ2pDVywyQkFBQSxDQUFnQkcsUUFBaEIsQ0FBeUJmLEdBQXpCLEVBQThCQyxHQUE5QjtFQUNELENBRkQ7RUFHQU4sTUFBTSxDQUFDcUIsR0FBUCxDQUFXLG9CQUFYLEVBQWlDLFVBQUNoQixHQUFELEVBQU1DLEdBQU4sRUFBYztJQUM3Q1csMkJBQUEsQ0FBZ0JLLFVBQWhCLENBQTJCakIsR0FBM0IsRUFBZ0NDLEdBQWhDO0VBQ0QsQ0FGRDtFQUdBTixNQUFNLENBQUNxQixHQUFQLENBQVcsc0JBQVgsRUFBbUMsVUFBQ2hCLEdBQUQsRUFBTUMsR0FBTixFQUFjO0lBQy9DVywyQkFBQSxDQUFnQk0sWUFBaEIsQ0FBNkJsQixHQUE3QixFQUFrQ0MsR0FBbEM7RUFDRCxDQUZEO0VBR0FOLE1BQU0sQ0FBQ0ksR0FBUCxDQUFXLGlCQUFYLEVBQThCLFVBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFjO0lBQzFDVywyQkFBQSxDQUFnQk8sT0FBaEIsQ0FBd0JuQixHQUF4QixFQUE2QkMsR0FBN0I7RUFDRCxDQUZEO0FBR0Q7O2VBRWNSLGlCIn0=","map":{"version":3,"names":["controllerRouting","app","router","express","Router","use","get","req","res","AppController","getStatus","getStats","post","UsersController","postNew","AuthController","getConnect","getDisconnect","getMe","FilesController","postUpload","getShow","getIndex","put","putPublish","putUnpublish","getFile"],"sourceRoot":"/root/alx-files_manager/routes/","sources":["index.js"],"sourcesContent":["import express from 'express';\nimport AppController from '../controllers/AppController';\nimport AuthController from '../controllers/AuthController';\nimport FilesController from '../controllers/FilesController';\nimport UsersController from '../controllers/UsersController';\n\nfunction controllerRouting(app) {\n  const router = express.Router();\n  app.use('/', router);\n\n  router.get('/status', (req, res) => {\n    AppController.getStatus(req, res);\n  });\n  router.get('/stats', (req, res) => {\n    AppController.getStats(req, res);\n  });\n\n  router.post('/users', (req, res) => {\n    UsersController.postNew(req, res);\n  });\n\n  router.get('/connect', (req, res) => {\n    AuthController.getConnect(req, res);\n  });\n\n  router.get('/disconnect', (req, res) => {\n    AuthController.getDisconnect(req, res);\n  });\n\n  router.get('/users/me', (req, res) => {\n    UsersController.getMe(req, res);\n  });\n\n  router.post('/files', (req, res) => {\n    FilesController.postUpload(req, res);\n  });\n\n  router.get('/files/:id', (req, res) => {\n    FilesController.getShow(req, res);\n  });\n  router.get('/files', (req, res) => {\n    FilesController.getIndex(req, res);\n  });\n  router.put('/files/:id/publish', (req, res) => {\n    FilesController.putPublish(req, res);\n  });\n  router.put('/files/:id/unpublish', (req, res) => {\n    FilesController.putUnpublish(req, res);\n  });\n  router.get('/files/:id/data', (req, res) => {\n    FilesController.getFile(req, res);\n  });\n}\n\nexport default controllerRouting;\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,SAASA,iBAAT,CAA2BC,GAA3B,EAAgC;EAC9B,IAAMC,MAAM,GAAGC,mBAAA,CAAQC,MAAR,EAAf;;EACAH,GAAG,CAACI,GAAJ,CAAQ,GAAR,EAAaH,MAAb;EAEAA,MAAM,CAACI,GAAP,CAAW,SAAX,EAAsB,UAACC,GAAD,EAAMC,GAAN,EAAc;IAClCC,yBAAA,CAAcC,SAAd,CAAwBH,GAAxB,EAA6BC,GAA7B;EACD,CAFD;EAGAN,MAAM,CAACI,GAAP,CAAW,QAAX,EAAqB,UAACC,GAAD,EAAMC,GAAN,EAAc;IACjCC,yBAAA,CAAcE,QAAd,CAAuBJ,GAAvB,EAA4BC,GAA5B;EACD,CAFD;EAIAN,MAAM,CAACU,IAAP,CAAY,QAAZ,EAAsB,UAACL,GAAD,EAAMC,GAAN,EAAc;IAClCK,2BAAA,CAAgBC,OAAhB,CAAwBP,GAAxB,EAA6BC,GAA7B;EACD,CAFD;EAIAN,MAAM,CAACI,GAAP,CAAW,UAAX,EAAuB,UAACC,GAAD,EAAMC,GAAN,EAAc;IACnCO,0BAAA,CAAeC,UAAf,CAA0BT,GAA1B,EAA+BC,GAA/B;EACD,CAFD;EAIAN,MAAM,CAACI,GAAP,CAAW,aAAX,EAA0B,UAACC,GAAD,EAAMC,GAAN,EAAc;IACtCO,0BAAA,CAAeE,aAAf,CAA6BV,GAA7B,EAAkCC,GAAlC;EACD,CAFD;EAIAN,MAAM,CAACI,GAAP,CAAW,WAAX,EAAwB,UAACC,GAAD,EAAMC,GAAN,EAAc;IACpCK,2BAAA,CAAgBK,KAAhB,CAAsBX,GAAtB,EAA2BC,GAA3B;EACD,CAFD;EAIAN,MAAM,CAACU,IAAP,CAAY,QAAZ,EAAsB,UAACL,GAAD,EAAMC,GAAN,EAAc;IAClCW,2BAAA,CAAgBC,UAAhB,CAA2Bb,GAA3B,EAAgCC,GAAhC;EACD,CAFD;EAIAN,MAAM,CAACI,GAAP,CAAW,YAAX,EAAyB,UAACC,GAAD,EAAMC,GAAN,EAAc;IACrCW,2BAAA,CAAgBE,OAAhB,CAAwBd,GAAxB,EAA6BC,GAA7B;EACD,CAFD;EAGAN,MAAM,CAACI,GAAP,CAAW,QAAX,EAAqB,UAACC,GAAD,EAAMC,GAAN,EAAc;IACjCW,2BAAA,CAAgBG,QAAhB,CAAyBf,GAAzB,EAA8BC,GAA9B;EACD,CAFD;EAGAN,MAAM,CAACqB,GAAP,CAAW,oBAAX,EAAiC,UAAChB,GAAD,EAAMC,GAAN,EAAc;IAC7CW,2BAAA,CAAgBK,UAAhB,CAA2BjB,GAA3B,EAAgCC,GAAhC;EACD,CAFD;EAGAN,MAAM,CAACqB,GAAP,CAAW,sBAAX,EAAmC,UAAChB,GAAD,EAAMC,GAAN,EAAc;IAC/CW,2BAAA,CAAgBM,YAAhB,CAA6BlB,GAA7B,EAAkCC,GAAlC;EACD,CAFD;EAGAN,MAAM,CAACI,GAAP,CAAW,iBAAX,EAA8B,UAACC,GAAD,EAAMC,GAAN,EAAc;IAC1CW,2BAAA,CAAgBO,OAAhB,CAAwBnB,GAAxB,EAA6BC,GAA7B;EACD,CAFD;AAGD;;eAEcR,iB"}},"mtime":1655465709943},"{\"assumptions\":{},\"sourceRoot\":\"/root/alx-files_manager/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/root/alx-files_manager\",\"filename\":\"/root/alx-files_manager/controllers/AppController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/root/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.2:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _redis = _interopRequireDefault(require(\"../utils/redis\"));\n\nvar _db = _interopRequireDefault(require(\"../utils/db\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar AppController = /*#__PURE__*/function () {\n  function AppController() {\n    _classCallCheck(this, AppController);\n  }\n\n  _createClass(AppController, null, [{\n    key: \"getStatus\",\n    value: function getStatus(req, res) {\n      var status = {\n        redis: _redis[\"default\"].isAlive(),\n        db: _db[\"default\"].isAlive()\n      };\n      res.status(200).send(status);\n    }\n  }, {\n    key: \"getStats\",\n    value: function () {\n      var _getStats = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n        var stats;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _db[\"default\"].nbUsers();\n\n              case 2:\n                _context.t0 = _context.sent;\n                _context.next = 5;\n                return _db[\"default\"].nbFiles();\n\n              case 5:\n                _context.t1 = _context.sent;\n                stats = {\n                  users: _context.t0,\n                  files: _context.t1\n                };\n                res.status(200).send(stats);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getStats(_x, _x2) {\n        return _getStats.apply(this, arguments);\n      }\n\n      return getStats;\n    }()\n  }]);\n\n  return AppController;\n}();\n\nvar _default = AppController;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBcHBDb250cm9sbGVyIiwicmVxIiwicmVzIiwic3RhdHVzIiwicmVkaXMiLCJyZWRpc0NsaWVudCIsImlzQWxpdmUiLCJkYiIsImRiQ2xpZW50Iiwic2VuZCIsIm5iVXNlcnMiLCJuYkZpbGVzIiwic3RhdHMiLCJ1c2VycyIsImZpbGVzIl0sInNvdXJjZVJvb3QiOiIvcm9vdC9hbHgtZmlsZXNfbWFuYWdlci9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIkFwcENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlZGlzQ2xpZW50IGZyb20gJy4uL3V0aWxzL3JlZGlzJztcbmltcG9ydCBkYkNsaWVudCBmcm9tICcuLi91dGlscy9kYic7XG5cbmNsYXNzIEFwcENvbnRyb2xsZXIge1xuICBzdGF0aWMgZ2V0U3RhdHVzKHJlcSwgcmVzKSB7XG4gICAgY29uc3Qgc3RhdHVzID0ge1xuICAgICAgcmVkaXM6IHJlZGlzQ2xpZW50LmlzQWxpdmUoKSxcbiAgICAgIGRiOiBkYkNsaWVudC5pc0FsaXZlKCksXG4gICAgfTtcbiAgICByZXMuc3RhdHVzKDIwMCkuc2VuZChzdGF0dXMpO1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldFN0YXRzKHJlcSwgcmVzKSB7XG4gICAgY29uc3Qgc3RhdHMgPSB7XG4gICAgICB1c2VyczogYXdhaXQgZGJDbGllbnQubmJVc2VycygpLFxuICAgICAgZmlsZXM6IGF3YWl0IGRiQ2xpZW50Lm5iRmlsZXMoKSxcbiAgICB9O1xuICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHN0YXRzKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBcHBDb250cm9sbGVyO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7OzsrQ0FBQSxvSjs7Ozs7Ozs7Ozs7O0lBRU1BLGE7Ozs7Ozs7V0FDSixtQkFBaUJDLEdBQWpCLEVBQXNCQyxHQUF0QixFQUEyQjtNQUN6QixJQUFNQyxNQUFNLEdBQUc7UUFDYkMsS0FBSyxFQUFFQyxpQkFBQSxDQUFZQyxPQUFaLEVBRE07UUFFYkMsRUFBRSxFQUFFQyxjQUFBLENBQVNGLE9BQVQ7TUFGUyxDQUFmO01BSUFKLEdBQUcsQ0FBQ0MsTUFBSixDQUFXLEdBQVgsRUFBZ0JNLElBQWhCLENBQXFCTixNQUFyQjtJQUNEOzs7O2lGQUVELGlCQUFzQkYsR0FBdEIsRUFBMkJDLEdBQTNCO1FBQUE7UUFBQTtVQUFBO1lBQUE7Y0FBQTtnQkFBQTtnQkFBQSxPQUVpQk0sY0FBQSxDQUFTRSxPQUFULEVBRmpCOztjQUFBO2dCQUFBO2dCQUFBO2dCQUFBLE9BR2lCRixjQUFBLENBQVNHLE9BQVQsRUFIakI7O2NBQUE7Z0JBQUE7Z0JBQ1FDLEtBRFI7a0JBRUlDLEtBRko7a0JBR0lDLEtBSEo7Z0JBQUE7Z0JBS0VaLEdBQUcsQ0FBQ0MsTUFBSixDQUFXLEdBQVgsRUFBZ0JNLElBQWhCLENBQXFCRyxLQUFyQjs7Y0FMRjtjQUFBO2dCQUFBO1lBQUE7VUFBQTtRQUFBO01BQUEsQzs7Ozs7Ozs7Ozs7OztlQVNhWixhIn0=","map":{"version":3,"names":["AppController","req","res","status","redis","redisClient","isAlive","db","dbClient","send","nbUsers","nbFiles","stats","users","files"],"sourceRoot":"/root/alx-files_manager/controllers/","sources":["AppController.js"],"sourcesContent":["import redisClient from '../utils/redis';\nimport dbClient from '../utils/db';\n\nclass AppController {\n  static getStatus(req, res) {\n    const status = {\n      redis: redisClient.isAlive(),\n      db: dbClient.isAlive(),\n    };\n    res.status(200).send(status);\n  }\n\n  static async getStats(req, res) {\n    const stats = {\n      users: await dbClient.nbUsers(),\n      files: await dbClient.nbFiles(),\n    };\n    res.status(200).send(stats);\n  }\n}\n\nexport default AppController;\n"],"mappings":";;;;;;;;;AAAA;;AACA;;;;+CAAA,oJ;;;;;;;;;;;;IAEMA,a;;;;;;;WACJ,mBAAiBC,GAAjB,EAAsBC,GAAtB,EAA2B;MACzB,IAAMC,MAAM,GAAG;QACbC,KAAK,EAAEC,iBAAA,CAAYC,OAAZ,EADM;QAEbC,EAAE,EAAEC,cAAA,CAASF,OAAT;MAFS,CAAf;MAIAJ,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBM,IAAhB,CAAqBN,MAArB;IACD;;;;iFAED,iBAAsBF,GAAtB,EAA2BC,GAA3B;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OAEiBM,cAAA,CAASE,OAAT,EAFjB;;cAAA;gBAAA;gBAAA;gBAAA,OAGiBF,cAAA,CAASG,OAAT,EAHjB;;cAAA;gBAAA;gBACQC,KADR;kBAEIC,KAFJ;kBAGIC,KAHJ;gBAAA;gBAKEZ,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBM,IAAhB,CAAqBG,KAArB;;cALF;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;;;eASaZ,a"}},"mtime":1655466280244},"{\"assumptions\":{},\"sourceRoot\":\"/root/alx-files_manager/utils/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/root/alx-files_manager\",\"filename\":\"/root/alx-files_manager/utils/db.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/root/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.2:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar _require = require('mongodb'),\n    MongoClient = _require.MongoClient;\n\nvar DB_HOST = process.env.DB_Host || 'localhost';\nvar DB_PORT = process.env.DB_PORT || '27017';\nvar DB_DATABASE = process.env.DB_DATABASE || 'files_manager';\nvar url = \"mongodb://\".concat(DB_HOST, \":\").concat(DB_PORT);\n\nvar DBClient = /*#__PURE__*/function () {\n  function DBClient() {\n    var _this = this;\n\n    _classCallCheck(this, DBClient);\n\n    MongoClient.connect(url, {\n      useUnifiedTopology: true\n    }, function (error, client) {\n      if (!error) {\n        _this.db = client.db(DB_DATABASE);\n        _this.users = _this.db.collection('users');\n        _this.files = _this.db.collection('files');\n      } else {\n        console.log(error.message);\n        _this.db = false;\n      }\n    });\n  }\n\n  _createClass(DBClient, [{\n    key: \"isAlive\",\n    value: function isAlive() {\n      return !!this.db;\n    }\n  }, {\n    key: \"nbUsers\",\n    value: function () {\n      var _nbUsers = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var userCount;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                userCount = this.users.countDocuments();\n                return _context.abrupt(\"return\", userCount);\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function nbUsers() {\n        return _nbUsers.apply(this, arguments);\n      }\n\n      return nbUsers;\n    }()\n  }, {\n    key: \"nbFiles\",\n    value: function () {\n      var _nbFiles = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var fileCount;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                fileCount = this.files.countDocuments();\n                return _context2.abrupt(\"return\", fileCount);\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function nbFiles() {\n        return _nbFiles.apply(this, arguments);\n      }\n\n      return nbFiles;\n    }()\n  }]);\n\n  return DBClient;\n}();\n\nvar dbClient = new DBClient();\nvar _default = dbClient;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiTW9uZ29DbGllbnQiLCJEQl9IT1NUIiwicHJvY2VzcyIsImVudiIsIkRCX0hvc3QiLCJEQl9QT1JUIiwiREJfREFUQUJBU0UiLCJ1cmwiLCJEQkNsaWVudCIsImNvbm5lY3QiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJlcnJvciIsImNsaWVudCIsImRiIiwidXNlcnMiLCJjb2xsZWN0aW9uIiwiZmlsZXMiLCJjb25zb2xlIiwibG9nIiwibWVzc2FnZSIsInVzZXJDb3VudCIsImNvdW50RG9jdW1lbnRzIiwiZmlsZUNvdW50IiwiZGJDbGllbnQiXSwic291cmNlUm9vdCI6Ii9yb290L2FseC1maWxlc19tYW5hZ2VyL3V0aWxzLyIsInNvdXJjZXMiOlsiZGIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBNb25nb0NsaWVudCB9ID0gcmVxdWlyZSgnbW9uZ29kYicpO1xuXG5jb25zdCBEQl9IT1NUID0gcHJvY2Vzcy5lbnYuREJfSG9zdCB8fCAnbG9jYWxob3N0JztcbmNvbnN0IERCX1BPUlQgPSBwcm9jZXNzLmVudi5EQl9QT1JUIHx8ICcyNzAxNyc7XG5jb25zdCBEQl9EQVRBQkFTRSA9IHByb2Nlc3MuZW52LkRCX0RBVEFCQVNFIHx8ICdmaWxlc19tYW5hZ2VyJztcbmNvbnN0IHVybCA9IGBtb25nb2RiOi8vJHtEQl9IT1NUfToke0RCX1BPUlR9YDtcblxuY2xhc3MgREJDbGllbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBNb25nb0NsaWVudC5jb25uZWN0KHVybCwgeyB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUgfSwgKGVycm9yLCBjbGllbnQpID0+IHtcbiAgICAgIGlmICghZXJyb3IpIHtcbiAgICAgICAgdGhpcy5kYiA9IGNsaWVudC5kYihEQl9EQVRBQkFTRSk7XG4gICAgICAgIHRoaXMudXNlcnMgPSB0aGlzLmRiLmNvbGxlY3Rpb24oJ3VzZXJzJyk7XG4gICAgICAgIHRoaXMuZmlsZXMgPSB0aGlzLmRiLmNvbGxlY3Rpb24oJ2ZpbGVzJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgdGhpcy5kYiA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaXNBbGl2ZSgpIHtcbiAgICByZXR1cm4gISF0aGlzLmRiO1xuICB9XG5cbiAgYXN5bmMgbmJVc2VycygpIHtcbiAgICBjb25zdCB1c2VyQ291bnQgPSB0aGlzLnVzZXJzLmNvdW50RG9jdW1lbnRzKCk7XG4gICAgcmV0dXJuIHVzZXJDb3VudDtcbiAgfVxuXG4gIGFzeW5jIG5iRmlsZXMoKSB7XG4gICAgY29uc3QgZmlsZUNvdW50ID0gdGhpcy5maWxlcy5jb3VudERvY3VtZW50cygpO1xuICAgIHJldHVybiBmaWxlQ291bnQ7XG4gIH1cbn1cblxuY29uc3QgZGJDbGllbnQgPSBuZXcgREJDbGllbnQoKTtcbmV4cG9ydCBkZWZhdWx0IGRiQ2xpZW50O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7K0NBQ0Esb0o7Ozs7Ozs7Ozs7OztBQURBLGVBQXdCQSxPQUFPLENBQUMsU0FBRCxDQUEvQjtBQUFBLElBQVFDLFdBQVIsWUFBUUEsV0FBUjs7QUFFQSxJQUFNQyxPQUFPLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxPQUFaLElBQXVCLFdBQXZDO0FBQ0EsSUFBTUMsT0FBTyxHQUFHSCxPQUFPLENBQUNDLEdBQVIsQ0FBWUUsT0FBWixJQUF1QixPQUF2QztBQUNBLElBQU1DLFdBQVcsR0FBR0osT0FBTyxDQUFDQyxHQUFSLENBQVlHLFdBQVosSUFBMkIsZUFBL0M7QUFDQSxJQUFNQyxHQUFHLHVCQUFnQk4sT0FBaEIsY0FBMkJJLE9BQTNCLENBQVQ7O0lBRU1HLFE7RUFDSixvQkFBYztJQUFBOztJQUFBOztJQUNaUixXQUFXLENBQUNTLE9BQVosQ0FBb0JGLEdBQXBCLEVBQXlCO01BQUVHLGtCQUFrQixFQUFFO0lBQXRCLENBQXpCLEVBQXVELFVBQUNDLEtBQUQsRUFBUUMsTUFBUixFQUFtQjtNQUN4RSxJQUFJLENBQUNELEtBQUwsRUFBWTtRQUNWLEtBQUksQ0FBQ0UsRUFBTCxHQUFVRCxNQUFNLENBQUNDLEVBQVAsQ0FBVVAsV0FBVixDQUFWO1FBQ0EsS0FBSSxDQUFDUSxLQUFMLEdBQWEsS0FBSSxDQUFDRCxFQUFMLENBQVFFLFVBQVIsQ0FBbUIsT0FBbkIsQ0FBYjtRQUNBLEtBQUksQ0FBQ0MsS0FBTCxHQUFhLEtBQUksQ0FBQ0gsRUFBTCxDQUFRRSxVQUFSLENBQW1CLE9BQW5CLENBQWI7TUFDRCxDQUpELE1BSU87UUFDTEUsT0FBTyxDQUFDQyxHQUFSLENBQVlQLEtBQUssQ0FBQ1EsT0FBbEI7UUFDQSxLQUFJLENBQUNOLEVBQUwsR0FBVSxLQUFWO01BQ0Q7SUFDRixDQVREO0VBVUQ7Ozs7V0FFRCxtQkFBVTtNQUNSLE9BQU8sQ0FBQyxDQUFDLEtBQUtBLEVBQWQ7SUFDRDs7OztnRkFFRDtRQUFBO1FBQUE7VUFBQTtZQUFBO2NBQUE7Z0JBQ1FPLFNBRFIsR0FDb0IsS0FBS04sS0FBTCxDQUFXTyxjQUFYLEVBRHBCO2dCQUFBLGlDQUVTRCxTQUZUOztjQUFBO2NBQUE7Z0JBQUE7WUFBQTtVQUFBO1FBQUE7TUFBQSxDOzs7Ozs7Ozs7OztnRkFLQTtRQUFBO1FBQUE7VUFBQTtZQUFBO2NBQUE7Z0JBQ1FFLFNBRFIsR0FDb0IsS0FBS04sS0FBTCxDQUFXSyxjQUFYLEVBRHBCO2dCQUFBLGtDQUVTQyxTQUZUOztjQUFBO2NBQUE7Z0JBQUE7WUFBQTtVQUFBO1FBQUE7TUFBQSxDOzs7Ozs7Ozs7Ozs7O0FBTUYsSUFBTUMsUUFBUSxHQUFHLElBQUlmLFFBQUosRUFBakI7ZUFDZWUsUSJ9","map":{"version":3,"names":["require","MongoClient","DB_HOST","process","env","DB_Host","DB_PORT","DB_DATABASE","url","DBClient","connect","useUnifiedTopology","error","client","db","users","collection","files","console","log","message","userCount","countDocuments","fileCount","dbClient"],"sourceRoot":"/root/alx-files_manager/utils/","sources":["db.js"],"sourcesContent":["const { MongoClient } = require('mongodb');\n\nconst DB_HOST = process.env.DB_Host || 'localhost';\nconst DB_PORT = process.env.DB_PORT || '27017';\nconst DB_DATABASE = process.env.DB_DATABASE || 'files_manager';\nconst url = `mongodb://${DB_HOST}:${DB_PORT}`;\n\nclass DBClient {\n  constructor() {\n    MongoClient.connect(url, { useUnifiedTopology: true }, (error, client) => {\n      if (!error) {\n        this.db = client.db(DB_DATABASE);\n        this.users = this.db.collection('users');\n        this.files = this.db.collection('files');\n      } else {\n        console.log(error.message);\n        this.db = false;\n      }\n    });\n  }\n\n  isAlive() {\n    return !!this.db;\n  }\n\n  async nbUsers() {\n    const userCount = this.users.countDocuments();\n    return userCount;\n  }\n\n  async nbFiles() {\n    const fileCount = this.files.countDocuments();\n    return fileCount;\n  }\n}\n\nconst dbClient = new DBClient();\nexport default dbClient;\n"],"mappings":";;;;;;;;;+CACA,oJ;;;;;;;;;;;;AADA,eAAwBA,OAAO,CAAC,SAAD,CAA/B;AAAA,IAAQC,WAAR,YAAQA,WAAR;;AAEA,IAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,OAAZ,IAAuB,WAAvC;AACA,IAAMC,OAAO,GAAGH,OAAO,CAACC,GAAR,CAAYE,OAAZ,IAAuB,OAAvC;AACA,IAAMC,WAAW,GAAGJ,OAAO,CAACC,GAAR,CAAYG,WAAZ,IAA2B,eAA/C;AACA,IAAMC,GAAG,uBAAgBN,OAAhB,cAA2BI,OAA3B,CAAT;;IAEMG,Q;EACJ,oBAAc;IAAA;;IAAA;;IACZR,WAAW,CAACS,OAAZ,CAAoBF,GAApB,EAAyB;MAAEG,kBAAkB,EAAE;IAAtB,CAAzB,EAAuD,UAACC,KAAD,EAAQC,MAAR,EAAmB;MACxE,IAAI,CAACD,KAAL,EAAY;QACV,KAAI,CAACE,EAAL,GAAUD,MAAM,CAACC,EAAP,CAAUP,WAAV,CAAV;QACA,KAAI,CAACQ,KAAL,GAAa,KAAI,CAACD,EAAL,CAAQE,UAAR,CAAmB,OAAnB,CAAb;QACA,KAAI,CAACC,KAAL,GAAa,KAAI,CAACH,EAAL,CAAQE,UAAR,CAAmB,OAAnB,CAAb;MACD,CAJD,MAIO;QACLE,OAAO,CAACC,GAAR,CAAYP,KAAK,CAACQ,OAAlB;QACA,KAAI,CAACN,EAAL,GAAU,KAAV;MACD;IACF,CATD;EAUD;;;;WAED,mBAAU;MACR,OAAO,CAAC,CAAC,KAAKA,EAAd;IACD;;;;gFAED;QAAA;QAAA;UAAA;YAAA;cAAA;gBACQO,SADR,GACoB,KAAKN,KAAL,CAAWO,cAAX,EADpB;gBAAA,iCAESD,SAFT;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;gFAKA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACQE,SADR,GACoB,KAAKN,KAAL,CAAWK,cAAX,EADpB;gBAAA,kCAESC,SAFT;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;;;AAMF,IAAMC,QAAQ,GAAG,IAAIf,QAAJ,EAAjB;eACee,Q"}},"mtime":1655465578338},"{\"assumptions\":{},\"sourceRoot\":\"/root/alx-files_manager/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/root/alx-files_manager\",\"filename\":\"/root/alx-files_manager/worker.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/root/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.2:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _db = _interopRequireDefault(require(\"./utils/db\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar Bull = require('bull');\n\nvar _require = require('mongodb'),\n    ObjectId = _require.ObjectId;\n\nvar imageThumbnail = require('image-thumbnail');\n\nvar fs = require('fs');\n\nvar fileQueue = new Bull('fileQueue');\nvar userQueue = new Bull('userQueue');\n\nvar createImageThumbnail = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(path, options) {\n    var thumbnail, pathNail;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return imageThumbnail(path, options);\n\n          case 3:\n            thumbnail = _context.sent;\n            pathNail = \"\".concat(path, \"_\").concat(options.width);\n            _context.next = 7;\n            return fs.writeFileSync(pathNail, thumbnail);\n\n          case 7:\n            _context.next = 12;\n            break;\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 9]]);\n  }));\n\n  return function createImageThumbnail(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nfileQueue.process( /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(job) {\n    var fileId, userId, fileDocument;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            fileId = job.data.fileId;\n\n            if (fileId) {\n              _context2.next = 3;\n              break;\n            }\n\n            throw Error('Missing fileId');\n\n          case 3:\n            userId = job.data.userId;\n\n            if (userId) {\n              _context2.next = 6;\n              break;\n            }\n\n            throw Error('Missing userId');\n\n          case 6:\n            _context2.next = 8;\n            return _db[\"default\"].db.collection('files').findOne({\n              _id: ObjectId(fileId),\n              userId: ObjectId(userId)\n            });\n\n          case 8:\n            fileDocument = _context2.sent;\n\n            if (fileDocument) {\n              _context2.next = 11;\n              break;\n            }\n\n            throw Error('File not found');\n\n          case 11:\n            createImageThumbnail(fileDocument.localPath, {\n              width: 500\n            });\n            createImageThumbnail(fileDocument.localPath, {\n              width: 250\n            });\n            createImageThumbnail(fileDocument.localPath, {\n              width: 100\n            });\n\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function (_x3) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nuserQueue.process( /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(job) {\n    var userId, userDocument;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            userId = job.data.userId;\n\n            if (userId) {\n              _context3.next = 3;\n              break;\n            }\n\n            throw Error('Missing userId');\n\n          case 3:\n            _context3.next = 5;\n            return _db[\"default\"].db.collection('users').findOne({\n              _id: ObjectId(userId)\n            });\n\n          case 5:\n            userDocument = _context3.sent;\n\n            if (userDocument) {\n              _context3.next = 8;\n              break;\n            }\n\n            throw Error('User not found');\n\n          case 8:\n            console.log(\"Welcome \".concat(userDocument.email));\n\n          case 9:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function (_x4) {\n    return _ref3.apply(this, arguments);\n  };\n}());\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCdWxsIiwicmVxdWlyZSIsIk9iamVjdElkIiwiaW1hZ2VUaHVtYm5haWwiLCJmcyIsImZpbGVRdWV1ZSIsInVzZXJRdWV1ZSIsImNyZWF0ZUltYWdlVGh1bWJuYWlsIiwicGF0aCIsIm9wdGlvbnMiLCJ0aHVtYm5haWwiLCJwYXRoTmFpbCIsIndpZHRoIiwid3JpdGVGaWxlU3luYyIsImNvbnNvbGUiLCJsb2ciLCJwcm9jZXNzIiwiam9iIiwiZmlsZUlkIiwiZGF0YSIsIkVycm9yIiwidXNlcklkIiwiREJDbGllbnQiLCJkYiIsImNvbGxlY3Rpb24iLCJmaW5kT25lIiwiX2lkIiwiZmlsZURvY3VtZW50IiwibG9jYWxQYXRoIiwidXNlckRvY3VtZW50IiwiZW1haWwiXSwic291cmNlUm9vdCI6Ii9yb290L2FseC1maWxlc19tYW5hZ2VyLyIsInNvdXJjZXMiOlsid29ya2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEQkNsaWVudCBmcm9tICcuL3V0aWxzL2RiJztcblxuY29uc3QgQnVsbCA9IHJlcXVpcmUoJ2J1bGwnKTtcbmNvbnN0IHsgT2JqZWN0SWQgfSA9IHJlcXVpcmUoJ21vbmdvZGInKTtcbmNvbnN0IGltYWdlVGh1bWJuYWlsID0gcmVxdWlyZSgnaW1hZ2UtdGh1bWJuYWlsJyk7XG5jb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5jb25zdCBmaWxlUXVldWUgPSBuZXcgQnVsbCgnZmlsZVF1ZXVlJyk7XG5jb25zdCB1c2VyUXVldWUgPSBuZXcgQnVsbCgndXNlclF1ZXVlJyk7XG5jb25zdCBjcmVhdGVJbWFnZVRodW1ibmFpbCA9IGFzeW5jIChwYXRoLCBvcHRpb25zKSA9PiB7XG5cbiAgICB0cnkge1xuXHRjb25zdCB0aHVtYm5haWwgPSBhd2FpdCBpbWFnZVRodW1ibmFpbChwYXRoLCBvcHRpb25zKTtcblx0Y29uc3QgcGF0aE5haWwgPSBgJHtwYXRofV8ke29wdGlvbnMud2lkdGh9YDtcblx0YXdhaXQgZnMud3JpdGVGaWxlU3luYyhwYXRoTmFpbCwgdGh1bWJuYWlsKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuXHRjb25zb2xlLmxvZyhlcnJvcik7XHRcbiAgICB9ICAgIFxufTtcblxuZmlsZVF1ZXVlLnByb2Nlc3MoYXN5bmMgKGpvYikgPT4ge1xuICAgIGNvbnN0IHsgZmlsZUlkIH0gPSBqb2IuZGF0YTtcbiAgICBpZiAoIWZpbGVJZCkgdGhyb3cgRXJyb3IoJ01pc3NpbmcgZmlsZUlkJyk7XG4gICAgY29uc3QgeyB1c2VySWQgfSA9IGpvYi5kYXRhO1xuICAgIGlmICghdXNlcklkKSB0aHJvdyBFcnJvcignTWlzc2luZyB1c2VySWQnKTtcbiAgICBjb25zdCBmaWxlRG9jdW1lbnQgPSBhd2FpdCBEQkNsaWVudC5kYi5jb2xsZWN0aW9uKCdmaWxlcycpLmZpbmRPbmUoeyBfaWQ6IE9iamVjdElkKGZpbGVJZCksIHVzZXJJZDogT2JqZWN0SWQodXNlcklkKSB9KTtcbiAgICBpZiAoIWZpbGVEb2N1bWVudCkgdGhyb3cgRXJyb3IoJ0ZpbGUgbm90IGZvdW5kJyk7XG4gICAgY3JlYXRlSW1hZ2VUaHVtYm5haWwoZmlsZURvY3VtZW50LmxvY2FsUGF0aCwgeyB3aWR0aDogNTAwIH0pO1xuICAgIGNyZWF0ZUltYWdlVGh1bWJuYWlsKGZpbGVEb2N1bWVudC5sb2NhbFBhdGgsIHsgd2lkdGg6IDI1MCB9KTtcbiAgICBjcmVhdGVJbWFnZVRodW1ibmFpbChmaWxlRG9jdW1lbnQubG9jYWxQYXRoLCB7IHdpZHRoOiAxMDAgfSk7ICAgIFxufSk7XG5cbnVzZXJRdWV1ZS5wcm9jZXNzKGFzeW5jIChqb2IpID0+IHtcbiAgICBjb25zdCB7IHVzZXJJZCB9ID0gam9iLmRhdGE7XG4gICAgaWYgKCF1c2VySWQpIHRocm93IEVycm9yKCdNaXNzaW5nIHVzZXJJZCcpO1xuICAgIGNvbnN0IHVzZXJEb2N1bWVudCA9IGF3YWl0IERCQ2xpZW50LmRiLmNvbGxlY3Rpb24oJ3VzZXJzJykuZmluZE9uZSh7IF9pZDogT2JqZWN0SWQodXNlcklkKSB9KTtcbiAgICBpZiAoIXVzZXJEb2N1bWVudCkgdGhyb3cgRXJyb3IoJ1VzZXIgbm90IGZvdW5kJyk7XG4gICAgY29uc29sZS5sb2coYFdlbGNvbWUgJHt1c2VyRG9jdW1lbnQuZW1haWx9YCk7IFxufSk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7OzsrQ0FDQSxvSjs7Ozs7O0FBQ0EsSUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsTUFBRCxDQUFwQjs7QUFDQSxlQUFxQkEsT0FBTyxDQUFDLFNBQUQsQ0FBNUI7QUFBQSxJQUFRQyxRQUFSLFlBQVFBLFFBQVI7O0FBQ0EsSUFBTUMsY0FBYyxHQUFHRixPQUFPLENBQUMsaUJBQUQsQ0FBOUI7O0FBQ0EsSUFBTUcsRUFBRSxHQUFHSCxPQUFPLENBQUMsSUFBRCxDQUFsQjs7QUFDQSxJQUFNSSxTQUFTLEdBQUcsSUFBSUwsSUFBSixDQUFTLFdBQVQsQ0FBbEI7QUFDQSxJQUFNTSxTQUFTLEdBQUcsSUFBSU4sSUFBSixDQUFTLFdBQVQsQ0FBbEI7O0FBQ0EsSUFBTU8sb0JBQW9CO0VBQUEsc0VBQUcsaUJBQU9DLElBQVAsRUFBYUMsT0FBYjtJQUFBO0lBQUE7TUFBQTtRQUFBO1VBQUE7WUFBQTtZQUFBO1lBQUEsT0FHSk4sY0FBYyxDQUFDSyxJQUFELEVBQU9DLE9BQVAsQ0FIVjs7VUFBQTtZQUd0QkMsU0FIc0I7WUFJdEJDLFFBSnNCLGFBSVJILElBSlEsY0FJQUMsT0FBTyxDQUFDRyxLQUpSO1lBQUE7WUFBQSxPQUt0QlIsRUFBRSxDQUFDUyxhQUFILENBQWlCRixRQUFqQixFQUEyQkQsU0FBM0IsQ0FMc0I7O1VBQUE7WUFBQTtZQUFBOztVQUFBO1lBQUE7WUFBQTtZQU81QkksT0FBTyxDQUFDQyxHQUFSOztVQVA0QjtVQUFBO1lBQUE7UUFBQTtNQUFBO0lBQUE7RUFBQSxDQUFIOztFQUFBLGdCQUFwQlIsb0JBQW9CO0lBQUE7RUFBQTtBQUFBLEdBQTFCOztBQVdBRixTQUFTLENBQUNXLE9BQVY7RUFBQSx1RUFBa0Isa0JBQU9DLEdBQVA7SUFBQTtJQUFBO01BQUE7UUFBQTtVQUFBO1lBQ05DLE1BRE0sR0FDS0QsR0FBRyxDQUFDRSxJQURULENBQ05ELE1BRE07O1lBQUEsSUFFVEEsTUFGUztjQUFBO2NBQUE7WUFBQTs7WUFBQSxNQUVLRSxLQUFLLENBQUMsZ0JBQUQsQ0FGVjs7VUFBQTtZQUdOQyxNQUhNLEdBR0tKLEdBQUcsQ0FBQ0UsSUFIVCxDQUdORSxNQUhNOztZQUFBLElBSVRBLE1BSlM7Y0FBQTtjQUFBO1lBQUE7O1lBQUEsTUFJS0QsS0FBSyxDQUFDLGdCQUFELENBSlY7O1VBQUE7WUFBQTtZQUFBLE9BS2FFLGNBQUEsQ0FBU0MsRUFBVCxDQUFZQyxVQUFaLENBQXVCLE9BQXZCLEVBQWdDQyxPQUFoQyxDQUF3QztjQUFFQyxHQUFHLEVBQUV4QixRQUFRLENBQUNnQixNQUFELENBQWY7Y0FBeUJHLE1BQU0sRUFBRW5CLFFBQVEsQ0FBQ21CLE1BQUQ7WUFBekMsQ0FBeEMsQ0FMYjs7VUFBQTtZQUtSTSxZQUxROztZQUFBLElBTVRBLFlBTlM7Y0FBQTtjQUFBO1lBQUE7O1lBQUEsTUFNV1AsS0FBSyxDQUFDLGdCQUFELENBTmhCOztVQUFBO1lBT2RiLG9CQUFvQixDQUFDb0IsWUFBWSxDQUFDQyxTQUFkLEVBQXlCO2NBQUVoQixLQUFLLEVBQUU7WUFBVCxDQUF6QixDQUFwQjtZQUNBTCxvQkFBb0IsQ0FBQ29CLFlBQVksQ0FBQ0MsU0FBZCxFQUF5QjtjQUFFaEIsS0FBSyxFQUFFO1lBQVQsQ0FBekIsQ0FBcEI7WUFDQUwsb0JBQW9CLENBQUNvQixZQUFZLENBQUNDLFNBQWQsRUFBeUI7Y0FBRWhCLEtBQUssRUFBRTtZQUFULENBQXpCLENBQXBCOztVQVRjO1VBQUE7WUFBQTtRQUFBO01BQUE7SUFBQTtFQUFBLENBQWxCOztFQUFBO0lBQUE7RUFBQTtBQUFBO0FBWUFOLFNBQVMsQ0FBQ1UsT0FBVjtFQUFBLHVFQUFrQixrQkFBT0MsR0FBUDtJQUFBO0lBQUE7TUFBQTtRQUFBO1VBQUE7WUFDTkksTUFETSxHQUNLSixHQUFHLENBQUNFLElBRFQsQ0FDTkUsTUFETTs7WUFBQSxJQUVUQSxNQUZTO2NBQUE7Y0FBQTtZQUFBOztZQUFBLE1BRUtELEtBQUssQ0FBQyxnQkFBRCxDQUZWOztVQUFBO1lBQUE7WUFBQSxPQUdhRSxjQUFBLENBQVNDLEVBQVQsQ0FBWUMsVUFBWixDQUF1QixPQUF2QixFQUFnQ0MsT0FBaEMsQ0FBd0M7Y0FBRUMsR0FBRyxFQUFFeEIsUUFBUSxDQUFDbUIsTUFBRDtZQUFmLENBQXhDLENBSGI7O1VBQUE7WUFHUlEsWUFIUTs7WUFBQSxJQUlUQSxZQUpTO2NBQUE7Y0FBQTtZQUFBOztZQUFBLE1BSVdULEtBQUssQ0FBQyxnQkFBRCxDQUpoQjs7VUFBQTtZQUtkTixPQUFPLENBQUNDLEdBQVIsbUJBQXVCYyxZQUFZLENBQUNDLEtBQXBDOztVQUxjO1VBQUE7WUFBQTtRQUFBO01BQUE7SUFBQTtFQUFBLENBQWxCOztFQUFBO0lBQUE7RUFBQTtBQUFBIn0=","map":{"version":3,"names":["Bull","require","ObjectId","imageThumbnail","fs","fileQueue","userQueue","createImageThumbnail","path","options","thumbnail","pathNail","width","writeFileSync","console","log","process","job","fileId","data","Error","userId","DBClient","db","collection","findOne","_id","fileDocument","localPath","userDocument","email"],"sourceRoot":"/root/alx-files_manager/","sources":["worker.js"],"sourcesContent":["import DBClient from './utils/db';\n\nconst Bull = require('bull');\nconst { ObjectId } = require('mongodb');\nconst imageThumbnail = require('image-thumbnail');\nconst fs = require('fs');\nconst fileQueue = new Bull('fileQueue');\nconst userQueue = new Bull('userQueue');\nconst createImageThumbnail = async (path, options) => {\n\n    try {\n\tconst thumbnail = await imageThumbnail(path, options);\n\tconst pathNail = `${path}_${options.width}`;\n\tawait fs.writeFileSync(pathNail, thumbnail);\n    } catch (error) {\n\tconsole.log(error);\t\n    }    \n};\n\nfileQueue.process(async (job) => {\n    const { fileId } = job.data;\n    if (!fileId) throw Error('Missing fileId');\n    const { userId } = job.data;\n    if (!userId) throw Error('Missing userId');\n    const fileDocument = await DBClient.db.collection('files').findOne({ _id: ObjectId(fileId), userId: ObjectId(userId) });\n    if (!fileDocument) throw Error('File not found');\n    createImageThumbnail(fileDocument.localPath, { width: 500 });\n    createImageThumbnail(fileDocument.localPath, { width: 250 });\n    createImageThumbnail(fileDocument.localPath, { width: 100 });    \n});\n\nuserQueue.process(async (job) => {\n    const { userId } = job.data;\n    if (!userId) throw Error('Missing userId');\n    const userDocument = await DBClient.db.collection('users').findOne({ _id: ObjectId(userId) });\n    if (!userDocument) throw Error('User not found');\n    console.log(`Welcome ${userDocument.email}`); \n});\n"],"mappings":"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"}},"mtime":1655448007860},"{\"assumptions\":{},\"sourceRoot\":\"/root/alx-files_manager/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/root/alx-files_manager\",\"filename\":\"/root/alx-files_manager/controllers/AuthController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/root/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.2:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _uuid = require(\"uuid\");\n\nvar _sha = _interopRequireDefault(require(\"sha1\"));\n\nvar _redis = _interopRequireDefault(require(\"../utils/redis\"));\n\nvar _db = _interopRequireDefault(require(\"../utils/db\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar AuthController = /*#__PURE__*/function () {\n  function AuthController() {\n    _classCallCheck(this, AuthController);\n  }\n\n  _createClass(AuthController, null, [{\n    key: \"getConnect\",\n    value: function () {\n      var _getConnect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n        var Authorization, user_creds, decodedCreds, _decodedCreds$split, _decodedCreds$split2, email, pass, pswd, user, token, key, expiration;\n\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                Authorization = req.header('Authorization') || '';\n                user_creds = Authorization.split(' ')[1];\n\n                if (user_creds) {\n                  _context.next = 4;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", res.status(401).send({\n                  error: 'Unauthorized'\n                }));\n\n              case 4:\n                decodedCreds = Buffer.from(creds, 'base64').toString('utf-8');\n                _decodedCreds$split = decodedCreds.split(':'), _decodedCreds$split2 = _slicedToArray(_decodedCreds$split, 2), email = _decodedCreds$split2[0], pass = _decodedCreds$split2[1];\n\n                if (!(!email || !pass)) {\n                  _context.next = 8;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", res.status(401).send({\n                  error: 'Unauthorized'\n                }));\n\n              case 8:\n                pswd = (0, _sha[\"default\"])(pass);\n                _context.next = 11;\n                return _db[\"default\"].users.findOne({\n                  email: email,\n                  password: pswd\n                });\n\n              case 11:\n                user = _context.sent;\n\n                if (user) {\n                  _context.next = 14;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", res.status(401).send({\n                  error: 'Unauthorized'\n                }));\n\n              case 14:\n                token = (0, _uuid.v4)();\n                key = \"auth_\".concat(token);\n                expiration = 24 * 3600;\n                _context.next = 19;\n                return _redis[\"default\"].set(key, user._id.toString(), expiration);\n\n              case 19:\n                return _context.abrupt(\"return\", res.status(200).send({\n                  token: token\n                }));\n\n              case 20:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getConnect(_x, _x2) {\n        return _getConnect.apply(this, arguments);\n      }\n\n      return getConnect;\n    }()\n  }, {\n    key: \"getDisconnect\",\n    value: function () {\n      var _getDisconnect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n        var user_token, user_key, id;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                user_token = request.header('X-Token');\n                user_key = \"auth_\".concat(user_token);\n                _context2.next = 4;\n                return _redis[\"default\"].get(key);\n\n              case 4:\n                id = _context2.sent;\n\n                if (!id) {\n                  _context2.next = 11;\n                  break;\n                }\n\n                _context2.next = 8;\n                return _redis[\"default\"].del(key);\n\n              case 8:\n                res.status(204).json({});\n                _context2.next = 12;\n                break;\n\n              case 11:\n                res.status(401).json({\n                  error: 'Unauthorized'\n                });\n\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function getDisconnect(_x3, _x4) {\n        return _getDisconnect.apply(this, arguments);\n      }\n\n      return getDisconnect;\n    }()\n  }]);\n\n  return AuthController;\n}();\n\nvar _default = AuthController;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBdXRoQ29udHJvbGxlciIsInJlcSIsInJlcyIsIkF1dGhvcml6YXRpb24iLCJoZWFkZXIiLCJ1c2VyX2NyZWRzIiwic3BsaXQiLCJzdGF0dXMiLCJzZW5kIiwiZXJyb3IiLCJkZWNvZGVkQ3JlZHMiLCJCdWZmZXIiLCJmcm9tIiwiY3JlZHMiLCJ0b1N0cmluZyIsImVtYWlsIiwicGFzcyIsInBzd2QiLCJzaGExIiwiZGJDbGllbnQiLCJ1c2VycyIsImZpbmRPbmUiLCJwYXNzd29yZCIsInVzZXIiLCJ0b2tlbiIsInV1aWR2NCIsImtleSIsImV4cGlyYXRpb24iLCJyZWRpc0NsaWVudCIsInNldCIsIl9pZCIsInVzZXJfdG9rZW4iLCJyZXF1ZXN0IiwidXNlcl9rZXkiLCJnZXQiLCJpZCIsImRlbCIsImpzb24iXSwic291cmNlUm9vdCI6Ii9yb290L2FseC1maWxlc19tYW5hZ2VyL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiQXV0aENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgc2hhMSBmcm9tICdzaGExJztcbmltcG9ydCByZWRpc0NsaWVudCBmcm9tICcuLi91dGlscy9yZWRpcyc7XG5pbXBvcnQgZGJDbGllbnQgZnJvbSAnLi4vdXRpbHMvZGInO1xuY2xhc3MgQXV0aENvbnRyb2xsZXIge1xuICAgIHN0YXRpYyBhc3luYyBnZXRDb25uZWN0KHJlcSwgcmVzKSB7XG5cdGNvbnN0IEF1dGhvcml6YXRpb24gPSByZXEuaGVhZGVyKCdBdXRob3JpemF0aW9uJykgfHwgJyc7XG5cdGNvbnN0IHVzZXJfY3JlZHMgPSBBdXRob3JpemF0aW9uLnNwbGl0KCcgJylbMV07XG5cdGlmICghdXNlcl9jcmVkcykgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0pO1xuXHRcblx0Y29uc3QgZGVjb2RlZENyZWRzID0gQnVmZmVyLmZyb20oY3JlZHMsICdiYXNlNjQnKS50b1N0cmluZygndXRmLTgnKTtcblx0Y29uc3QgW2VtYWlsLCBwYXNzXSA9IGRlY29kZWRDcmVkcy5zcGxpdCgnOicpO1xuXHRpZiAoIWVtYWlsIHx8ICFwYXNzKSByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSk7XG5cdGNvbnN0IHBzd2QgPSBzaGExKHBhc3MpO1xuXHRjb25zdCB1c2VyID0gYXdhaXQgZGJDbGllbnQudXNlcnMuZmluZE9uZSh7XG5cdCAgICBlbWFpbCxcblx0ICAgIHBhc3N3b3JkOiBwc3dkLCBcblx0fSk7XG5cdGlmICghdXNlcikgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0pO1xuXHRjb25zdCB0b2tlbiA9IHV1aWR2NCgpO1xuXHRjb25zdCBrZXkgPSBgYXV0aF8ke3Rva2VufWA7XG5cdGNvbnN0IGV4cGlyYXRpb24gPSAyNCAqIDM2MDA7XG5cdGF3YWl0IHJlZGlzQ2xpZW50LnNldChrZXksIHVzZXIuX2lkLnRvU3RyaW5nKCksIGV4cGlyYXRpb24pO1xuXHRyZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyB0b2tlbiB9KTtcdFxuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyBnZXREaXNjb25uZWN0KHJlcSwgcmVzKSB7XG5cdGNvbnN0IHVzZXJfdG9rZW4gPSByZXF1ZXN0LmhlYWRlcignWC1Ub2tlbicpO1xuXHRjb25zdCB1c2VyX2tleSA9IGBhdXRoXyR7dXNlcl90b2tlbn1gO1xuXHRjb25zdCBpZCA9IGF3YWl0IHJlZGlzQ2xpZW50LmdldChrZXkpO1xuXHRpZihpZCkge1xuXHQgICAgYXdhaXQgcmVkaXNDbGllbnQuZGVsKGtleSk7XG5cdCAgICByZXMuc3RhdHVzKDIwNCkuanNvbih7fSk7XG5cdH0gZWxzZSB7XG5cdCAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9KTtcblx0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","map":{"version":3,"names":["AuthController","req","res","Authorization","header","user_creds","split","status","send","error","decodedCreds","Buffer","from","creds","toString","email","pass","pswd","sha1","dbClient","users","findOne","password","user","token","uuidv4","key","expiration","redisClient","set","_id","user_token","request","user_key","get","id","del","json"],"sourceRoot":"/root/alx-files_manager/controllers/","sources":["AuthController.js"],"sourcesContent":["import { v4 as uuidv4 } from 'uuid';\nimport sha1 from 'sha1';\nimport redisClient from '../utils/redis';\nimport dbClient from '../utils/db';\nclass AuthController {\n    static async getConnect(req, res) {\n\tconst Authorization = req.header('Authorization') || '';\n\tconst user_creds = Authorization.split(' ')[1];\n\tif (!user_creds) return res.status(401).send({ error: 'Unauthorized' });\n\t\n\tconst decodedCreds = Buffer.from(creds, 'base64').toString('utf-8');\n\tconst [email, pass] = decodedCreds.split(':');\n\tif (!email || !pass) return res.status(401).send({ error: 'Unauthorized' });\n\tconst pswd = sha1(pass);\n\tconst user = await dbClient.users.findOne({\n\t    email,\n\t    password: pswd, \n\t});\n\tif (!user) return res.status(401).send({ error: 'Unauthorized' });\n\tconst token = uuidv4();\n\tconst key = `auth_${token}`;\n\tconst expiration = 24 * 3600;\n\tawait redisClient.set(key, user._id.toString(), expiration);\n\treturn res.status(200).send({ token });\t\n    }\n\n    static async getDisconnect(req, res) {\n\tconst user_token = request.header('X-Token');\n\tconst user_key = `auth_${user_token}`;\n\tconst id = await redisClient.get(key);\n\tif(id) {\n\t    await redisClient.del(key);\n\t    res.status(204).json({});\n\t} else {\n\t    res.status(401).json({ error: 'Unauthorized' });\n\t}\t\n    }   \n}\nexport default AuthController;\n"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;;;+CAFA,oJ;;;;;;;;;;;;;;;;;;;;;;;;IAGMA,c;;;;;;;;mFACF,iBAAwBC,GAAxB,EAA6BC,GAA7B;QAAA;;QAAA;UAAA;YAAA;cAAA;gBACGC,aADH,GACmBF,GAAG,CAACG,MAAJ,CAAW,eAAX,KAA+B,EADlD;gBAEGC,UAFH,GAEgBF,aAAa,CAACG,KAAd,CAAoB,GAApB,EAAyB,CAAzB,CAFhB;;gBAAA,IAGED,UAHF;kBAAA;kBAAA;gBAAA;;gBAAA,iCAGqBH,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;kBAAEC,KAAK,EAAE;gBAAT,CAArB,CAHrB;;cAAA;gBAKGC,YALH,GAKkBC,MAAM,CAACC,IAAP,CAAYC,KAAZ,EAAmB,QAAnB,EAA6BC,QAA7B,CAAsC,OAAtC,CALlB;gBAAA,sBAMmBJ,YAAY,CAACJ,KAAb,CAAmB,GAAnB,CANnB,iEAMIS,KANJ,4BAMWC,IANX;;gBAAA,MAOC,CAACD,KAAD,IAAU,CAACC,IAPZ;kBAAA;kBAAA;gBAAA;;gBAAA,iCAOyBd,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;kBAAEC,KAAK,EAAE;gBAAT,CAArB,CAPzB;;cAAA;gBAQGQ,IARH,GAQU,IAAAC,eAAA,EAAKF,IAAL,CARV;gBAAA;gBAAA,OASgBG,cAAA,CAASC,KAAT,CAAeC,OAAf,CAAuB;kBACtCN,KAAK,EAALA,KADsC;kBAEtCO,QAAQ,EAAEL;gBAF4B,CAAvB,CAThB;;cAAA;gBASGM,IATH;;gBAAA,IAaEA,IAbF;kBAAA;kBAAA;gBAAA;;gBAAA,iCAaerB,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;kBAAEC,KAAK,EAAE;gBAAT,CAArB,CAbf;;cAAA;gBAcGe,KAdH,GAcW,IAAAC,QAAA,GAdX;gBAeGC,GAfH,kBAeiBF,KAfjB;gBAgBGG,UAhBH,GAgBgB,KAAK,IAhBrB;gBAAA;gBAAA,OAiBGC,iBAAA,CAAYC,GAAZ,CAAgBH,GAAhB,EAAqBH,IAAI,CAACO,GAAL,CAAShB,QAAT,EAArB,EAA0Ca,UAA1C,CAjBH;;cAAA;gBAAA,iCAkBIzB,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;kBAAEgB,KAAK,EAALA;gBAAF,CAArB,CAlBJ;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;sFAqBA,kBAA2BvB,GAA3B,EAAgCC,GAAhC;QAAA;QAAA;UAAA;YAAA;cAAA;gBACG6B,UADH,GACgBC,OAAO,CAAC5B,MAAR,CAAe,SAAf,CADhB;gBAEG6B,QAFH,kBAEsBF,UAFtB;gBAAA;gBAAA,OAGcH,iBAAA,CAAYM,GAAZ,CAAgBR,GAAhB,CAHd;;cAAA;gBAGGS,EAHH;;gBAAA,KAIAA,EAJA;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAKOP,iBAAA,CAAYQ,GAAZ,CAAgBV,GAAhB,CALP;;cAAA;gBAMCxB,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgB8B,IAAhB,CAAqB,EAArB;gBAND;gBAAA;;cAAA;gBAQCnC,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgB8B,IAAhB,CAAqB;kBAAE5B,KAAK,EAAE;gBAAT,CAArB;;cARD;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;;;eAYWT,c"}},"mtime":1655705284763},"{\"assumptions\":{},\"sourceRoot\":\"/root/alx-files_manager/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/root/alx-files_manager\",\"filename\":\"/root/alx-files_manager/controllers/FilesController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/root/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.2:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _bull = _interopRequireDefault(require(\"bull\"));\n\nvar _mongodb = require(\"mongodb\");\n\nvar _uuid = require(\"uuid\");\n\nvar _fs = require(\"fs\");\n\nvar _mimeTypes = _interopRequireDefault(require(\"mime-types\"));\n\nvar _db = _interopRequireDefault(require(\"../utils/db\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar FilesController = /*#__PURE__*/function () {\n  function FilesController() {\n    _classCallCheck(this, FilesController);\n  }\n\n  _createClass(FilesController, null, [{\n    key: \"postUpload\",\n    value: function () {\n      var _postUpload = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n        var fileQ, dir, _yield$getIdAndKey, userId, user, fileName, fileType, fileData, publicFile, parentId, parentFile, fileInsertData, fileUid, decData, filePath;\n\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                fileQ = new _bull[\"default\"]('fileQ');\n                dir = process.env.FOLDER_PATH || '/tmp/files_manager';\n                _context.next = 4;\n                return getIdAndKey(req);\n\n              case 4:\n                _yield$getIdAndKey = _context.sent;\n                userId = _yield$getIdAndKey.userId;\n\n                if (isValidUser(userId)) {\n                  _context.next = 8;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", res.status(401).send({\n                  error: 'Unauthorized'\n                }));\n\n              case 8:\n                _context.next = 10;\n                return _db[\"default\"].users.findOne({\n                  _id: (0, _mongodb.ObjectId)(userId)\n                });\n\n              case 10:\n                user = _context.sent;\n\n                if (user) {\n                  _context.next = 13;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", res.status(401).send({\n                  error: 'Unauthorized'\n                }));\n\n              case 13:\n                fileName = req.body.name;\n\n                if (fileName) {\n                  _context.next = 16;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", res.status(400).send({\n                  error: 'Missing name'\n                }));\n\n              case 16:\n                fileType = req.body.type;\n\n                if (!(!fileType || !['folder', 'file', 'image'].includes(fileType))) {\n                  _context.next = 19;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", res.status(400).send({\n                  error: 'Missing type'\n                }));\n\n              case 19:\n                fileData = req.body.data;\n\n                if (!(!fileData && fileType !== 'folder')) {\n                  _context.next = 22;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", res.status(400).send({\n                  error: 'Missing data'\n                }));\n\n              case 22:\n                publicFile = req.body.isPublic || false;\n                parentId = req.body.parentId || 0;\n                parentId = parentId === '0' ? 0 : parentId;\n\n                if (!(parentId !== 0)) {\n                  _context.next = 33;\n                  break;\n                }\n\n                _context.next = 28;\n                return _db[\"default\"].files.findOne({\n                  _id: (0, _mongodb.ObjectId)(parentId)\n                });\n\n              case 28:\n                parentFile = _context.sent;\n\n                if (parentFile) {\n                  _context.next = 31;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", res.status(400).send({\n                  error: 'Parent not found'\n                }));\n\n              case 31:\n                if (!(parentFile.type !== 'folder')) {\n                  _context.next = 33;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", res.status(400).send({\n                  error: 'Parent is not a folder'\n                }));\n\n              case 33:\n                fileInsertData = {\n                  userId: user._id,\n                  name: fileName,\n                  type: fileType,\n                  isPublic: publicFile,\n                  parentId: parentId\n                };\n\n                if (!(fileType === 'folder')) {\n                  _context.next = 38;\n                  break;\n                }\n\n                _context.next = 37;\n                return _db[\"default\"].files.insertOne(fileInsertData);\n\n              case 37:\n                return _context.abrupt(\"return\", res.status(201).send({\n                  id: fileInsertData._id,\n                  userId: fileInsertData.userId,\n                  name: fileInsertData.name,\n                  type: fileInsertData.type,\n                  isPublic: fileInsertData.isPublic,\n                  parentId: fileInsertData.parentId\n                }));\n\n              case 38:\n                fileUid = (0, _uuid.v4)();\n                decData = Buffer.from(fileData, 'base64');\n                filePath = \"\".concat(dir, \"/\").concat(fileUid);\n                (0, _fs.mkdir)(dir, {\n                  recursive: true\n                }, function (error) {\n                  if (error) return res.status(400).send({\n                    error: error.message\n                  });\n                  return true;\n                });\n                (0, _fs.writeFile)(filePath, decData, function (error) {\n                  if (error) return res.status(400).send({\n                    error: error.message\n                  });\n                  return true;\n                });\n                fileInsertData.localPath = filePath;\n                _context.next = 46;\n                return _db[\"default\"].files.insertOne(fileInsertData);\n\n              case 46:\n                fileQ.add({\n                  userId: fileInsertData.userId,\n                  fileId: fileInsertData._id\n                });\n                return _context.abrupt(\"return\", res.status(201).send({\n                  id: fileInsertData._id,\n                  userId: fileInsertData.userId,\n                  name: fileInsertData.name,\n                  type: fileInsertData.type,\n                  isPublic: fileInsertData.isPublic,\n                  parentId: fileInsertData.parentId\n                }));\n\n              case 48:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function postUpload(_x, _x2) {\n        return _postUpload.apply(this, arguments);\n      }\n\n      return postUpload;\n    }()\n  }, {\n    key: \"getShow\",\n    value: function () {\n      var _getShow = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n        var _yield$getIdAndKey2, userId, user, fileId, file;\n\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return getIdAndKey(req);\n\n              case 2:\n                _yield$getIdAndKey2 = _context2.sent;\n                userId = _yield$getIdAndKey2.userId;\n\n                if (isValidUser(userId)) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", res.status(401).send({\n                  error: 'Unauthorized'\n                }));\n\n              case 6:\n                _context2.next = 8;\n                return _db[\"default\"].users.findOne({\n                  _id: (0, _mongodb.ObjectId)(userId)\n                });\n\n              case 8:\n                user = _context2.sent;\n\n                if (user) {\n                  _context2.next = 11;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", res.status(401).send({\n                  error: 'Unauthorized'\n                }));\n\n              case 11:\n                fileId = req.params.id || '';\n                _context2.next = 14;\n                return _db[\"default\"].files.findOne({\n                  _id: (0, _mongodb.ObjectId)(fileId),\n                  userId: user._id\n                });\n\n              case 14:\n                file = _context2.sent;\n\n                if (file) {\n                  _context2.next = 17;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", res.status(404).send({\n                  error: 'Not found'\n                }));\n\n              case 17:\n                return _context2.abrupt(\"return\", res.status(200).send({\n                  id: file._id,\n                  userId: file.userId,\n                  name: file.name,\n                  type: file.type,\n                  isPublic: file.isPublic,\n                  parentId: file.parentId\n                }));\n\n              case 18:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function getShow(_x3, _x4) {\n        return _getShow.apply(this, arguments);\n      }\n\n      return getShow;\n    }()\n  }, {\n    key: \"getIndex\",\n    value: function () {\n      var _getIndex = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n        var _yield$getIdAndKey3, userId, user, parentId, folder, page, agg, aggData, pageFiles, files;\n\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return getIdAndKey(req);\n\n              case 2:\n                _yield$getIdAndKey3 = _context3.sent;\n                userId = _yield$getIdAndKey3.userId;\n\n                if (isValidUser(userId)) {\n                  _context3.next = 6;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", res.status(401).send({\n                  error: 'Unauthorized'\n                }));\n\n              case 6:\n                _context3.next = 8;\n                return _db[\"default\"].users.findOne({\n                  _id: (0, _mongodb.ObjectId)(userId)\n                });\n\n              case 8:\n                user = _context3.sent;\n\n                if (user) {\n                  _context3.next = 11;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", res.status(401).send({\n                  error: 'Unauthorized'\n                }));\n\n              case 11:\n                parentId = req.query.parentId || 0;\n                if (parentId === '0') parentId = 0;\n\n                if (!(parentId !== 0)) {\n                  _context3.next = 22;\n                  break;\n                }\n\n                if (isValidUser(parentId)) {\n                  _context3.next = 16;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", res.status(401).send({\n                  error: 'Unauthorized'\n                }));\n\n              case 16:\n                parentId = (0, _mongodb.ObjectId)(parentId);\n                _context3.next = 19;\n                return _db[\"default\"].files.findOne({\n                  _id: (0, _mongodb.ObjectId)(parentId)\n                });\n\n              case 19:\n                folder = _context3.sent;\n\n                if (!(!folder || folder.type !== 'folder')) {\n                  _context3.next = 22;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", res.status(200).send([]));\n\n              case 22:\n                page = req.query.page || 0;\n                agg = {\n                  $and: [{\n                    parentId: parentId\n                  }]\n                };\n                aggData = [{\n                  $match: agg\n                }, {\n                  $skip: page * 20\n                }, {\n                  $limit: 20\n                }];\n                if (parentId === 0) aggData = [{\n                  $skip: page * 20\n                }, {\n                  $limit: 20\n                }];\n                _context3.next = 28;\n                return _db[\"default\"].files.aggregate(aggData);\n\n              case 28:\n                pageFiles = _context3.sent;\n                files = [];\n                _context3.next = 32;\n                return pageFiles.forEach(function (file) {\n                  var fileObj = {\n                    id: file._id,\n                    userId: file.userId,\n                    name: file.name,\n                    type: file.type,\n                    isPublic: file.isPublic,\n                    parentId: file.parentId\n                  };\n                  files.push(fileObj);\n                });\n\n              case 32:\n                return _context3.abrupt(\"return\", res.status(200).send(files));\n\n              case 33:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function getIndex(_x5, _x6) {\n        return _getIndex.apply(this, arguments);\n      }\n\n      return getIndex;\n    }()\n  }, {\n    key: \"putPublish\",\n    value: function () {\n      var _putPublish = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res) {\n        var _yield$getIdAndKey4, userId, user, fileId, file;\n\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return getIdAndKey(req);\n\n              case 2:\n                _yield$getIdAndKey4 = _context4.sent;\n                userId = _yield$getIdAndKey4.userId;\n\n                if (isValidUser(userId)) {\n                  _context4.next = 6;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", res.status(401).send({\n                  error: 'Unauthorized'\n                }));\n\n              case 6:\n                _context4.next = 8;\n                return _db[\"default\"].users.findOne({\n                  _id: (0, _mongodb.ObjectId)(userId)\n                });\n\n              case 8:\n                user = _context4.sent;\n\n                if (user) {\n                  _context4.next = 11;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", res.status(401).send({\n                  error: 'Unauthorized'\n                }));\n\n              case 11:\n                fileId = req.params.id || '';\n                _context4.next = 14;\n                return _db[\"default\"].files.findOne({\n                  _id: (0, _mongodb.ObjectId)(fileId),\n                  userId: user._id\n                });\n\n              case 14:\n                file = _context4.sent;\n\n                if (file) {\n                  _context4.next = 17;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", res.status(404).send({\n                  error: 'Not found'\n                }));\n\n              case 17:\n                _context4.next = 19;\n                return _db[\"default\"].files.updateOne({\n                  _id: (0, _mongodb.ObjectId)(fileId)\n                }, {\n                  $set: {\n                    isPublic: true\n                  }\n                });\n\n              case 19:\n                _context4.next = 21;\n                return _db[\"default\"].files.findOne({\n                  _id: (0, _mongodb.ObjectId)(fileId),\n                  userId: user._id\n                });\n\n              case 21:\n                file = _context4.sent;\n                return _context4.abrupt(\"return\", res.status(200).send({\n                  id: file._id,\n                  userId: file.userId,\n                  name: file.name,\n                  type: file.type,\n                  isPublic: file.isPublic,\n                  parentId: file.parentId\n                }));\n\n              case 23:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function putPublish(_x7, _x8) {\n        return _putPublish.apply(this, arguments);\n      }\n\n      return putPublish;\n    }()\n  }, {\n    key: \"putUnpublish\",\n    value: function () {\n      var _putUnpublish = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res) {\n        var _yield$getIdAndKey5, userId, user, fileId, file;\n\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return getIdAndKey(req);\n\n              case 2:\n                _yield$getIdAndKey5 = _context5.sent;\n                userId = _yield$getIdAndKey5.userId;\n\n                if (isValidUser(userId)) {\n                  _context5.next = 6;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\", res.status(401).send({\n                  error: 'Unauthorized'\n                }));\n\n              case 6:\n                _context5.next = 8;\n                return _db[\"default\"].users.findOne({\n                  _id: (0, _mongodb.ObjectId)(userId)\n                });\n\n              case 8:\n                user = _context5.sent;\n\n                if (user) {\n                  _context5.next = 11;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\", res.status(401).send({\n                  error: 'Unauthorized'\n                }));\n\n              case 11:\n                fileId = req.params.id || '';\n                _context5.next = 14;\n                return _db[\"default\"].files.findOne({\n                  _id: (0, _mongodb.ObjectId)(fileId),\n                  userId: user._id\n                });\n\n              case 14:\n                file = _context5.sent;\n\n                if (file) {\n                  _context5.next = 17;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\", res.status(404).send({\n                  error: 'Not found'\n                }));\n\n              case 17:\n                _context5.next = 19;\n                return _db[\"default\"].files.updateOne({\n                  _id: (0, _mongodb.ObjectId)(fileId)\n                }, {\n                  $set: {\n                    isPublic: false\n                  }\n                });\n\n              case 19:\n                _context5.next = 21;\n                return _db[\"default\"].files.findOne({\n                  _id: (0, _mongodb.ObjectId)(fileId),\n                  userId: user._id\n                });\n\n              case 21:\n                file = _context5.sent;\n                return _context5.abrupt(\"return\", res.status(200).send({\n                  id: file._id,\n                  userId: file.userId,\n                  name: file.name,\n                  type: file.type,\n                  isPublic: file.isPublic,\n                  parentId: file.parentId\n                }));\n\n              case 23:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function putUnpublish(_x9, _x10) {\n        return _putUnpublish.apply(this, arguments);\n      }\n\n      return putUnpublish;\n    }()\n  }, {\n    key: \"getFile\",\n    value: function () {\n      var _getFile = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(req, res) {\n        var fileId, size, file, isPublic, userId, type, _yield$getIdAndKey6, user, path, fileData, mimeType;\n\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                fileId = req.params.id || '';\n                size = req.query.size || 0;\n                _context6.next = 4;\n                return _db[\"default\"].files.findOne({\n                  _id: (0, _mongodb.ObjectId)(fileId)\n                });\n\n              case 4:\n                file = _context6.sent;\n\n                if (file) {\n                  _context6.next = 7;\n                  break;\n                }\n\n                return _context6.abrupt(\"return\", res.status(404).send({\n                  error: 'Not found'\n                }));\n\n              case 7:\n                isPublic = file.isPublic, userId = file.userId, type = file.type;\n                _context6.next = 10;\n                return getIdAndKey(req);\n\n              case 10:\n                _yield$getIdAndKey6 = _context6.sent;\n                user = _yield$getIdAndKey6.userId;\n\n                if (!(!isPublic && !user || user && userId.toString() !== user && !isPublic)) {\n                  _context6.next = 14;\n                  break;\n                }\n\n                return _context6.abrupt(\"return\", res.status(404).send({\n                  error: 'Not found'\n                }));\n\n              case 14:\n                if (!(type === 'folder')) {\n                  _context6.next = 16;\n                  break;\n                }\n\n                return _context6.abrupt(\"return\", res.status(400).send({\n                  error: 'A folder doesn\\'t have content'\n                }));\n\n              case 16:\n                path = size === 0 ? file.localPath : \"\".concat(file.localPath, \"_\").concat(size);\n                _context6.prev = 17;\n                fileData = (0, _fs.readFileSync)(path);\n                mimeType = _mimeTypes[\"default\"].contentType(file.name);\n                res.setHeader('Content-Type', mimeType);\n                return _context6.abrupt(\"return\", res.status(200).send(fileData));\n\n              case 24:\n                _context6.prev = 24;\n                _context6.t0 = _context6[\"catch\"](17);\n                return _context6.abrupt(\"return\", res.status(404).send({\n                  error: 'Not found'\n                }));\n\n              case 27:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, null, [[17, 24]]);\n      }));\n\n      function getFile(_x11, _x12) {\n        return _getFile.apply(this, arguments);\n      }\n\n      return getFile;\n    }()\n  }]);\n\n  return FilesController;\n}();\n\nvar _default = FilesController;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJGaWxlc0NvbnRyb2xsZXIiLCJyZXEiLCJyZXMiLCJmaWxlUSIsIlF1ZXVlIiwiZGlyIiwicHJvY2VzcyIsImVudiIsIkZPTERFUl9QQVRIIiwiZ2V0SWRBbmRLZXkiLCJ1c2VySWQiLCJpc1ZhbGlkVXNlciIsInN0YXR1cyIsInNlbmQiLCJlcnJvciIsImRiQ2xpZW50IiwidXNlcnMiLCJmaW5kT25lIiwiX2lkIiwiT2JqZWN0SWQiLCJ1c2VyIiwiZmlsZU5hbWUiLCJib2R5IiwibmFtZSIsImZpbGVUeXBlIiwidHlwZSIsImluY2x1ZGVzIiwiZmlsZURhdGEiLCJkYXRhIiwicHVibGljRmlsZSIsImlzUHVibGljIiwicGFyZW50SWQiLCJmaWxlcyIsInBhcmVudEZpbGUiLCJmaWxlSW5zZXJ0RGF0YSIsImluc2VydE9uZSIsImlkIiwiZmlsZVVpZCIsInV1aWR2NCIsImRlY0RhdGEiLCJCdWZmZXIiLCJmcm9tIiwiZmlsZVBhdGgiLCJta2RpciIsInJlY3Vyc2l2ZSIsIm1lc3NhZ2UiLCJ3cml0ZUZpbGUiLCJsb2NhbFBhdGgiLCJhZGQiLCJmaWxlSWQiLCJwYXJhbXMiLCJmaWxlIiwicXVlcnkiLCJmb2xkZXIiLCJwYWdlIiwiYWdnIiwiJGFuZCIsImFnZ0RhdGEiLCIkbWF0Y2giLCIkc2tpcCIsIiRsaW1pdCIsImFnZ3JlZ2F0ZSIsInBhZ2VGaWxlcyIsImZvckVhY2giLCJmaWxlT2JqIiwicHVzaCIsInVwZGF0ZU9uZSIsIiRzZXQiLCJzaXplIiwidG9TdHJpbmciLCJwYXRoIiwicmVhZEZpbGVTeW5jIiwibWltZVR5cGUiLCJtaW1lIiwiY29udGVudFR5cGUiLCJzZXRIZWFkZXIiXSwic291cmNlUm9vdCI6Ii9yb290L2FseC1maWxlc19tYW5hZ2VyL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiRmlsZXNDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBRdWV1ZSBmcm9tICdidWxsJztcbmltcG9ydCB7IE9iamVjdElkIH0gZnJvbSAnbW9uZ29kYic7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCB7IG1rZGlyLCB3cml0ZUZpbGUsIHJlYWRGaWxlU3luYyB9IGZyb20gJ2ZzJztcbmltcG9ydCBtaW1lIGZyb20gJ21pbWUtdHlwZXMnO1xuaW1wb3J0IGRiQ2xpZW50IGZyb20gJy4uL3V0aWxzL2RiJztcblxuY2xhc3MgRmlsZXNDb250cm9sbGVyIHtcbiAgICBzdGF0aWMgYXN5bmMgcG9zdFVwbG9hZChyZXEsIHJlcykge1xuXHRjb25zdCBmaWxlUSA9IG5ldyBRdWV1ZSgnZmlsZVEnKTtcblx0Y29uc3QgZGlyID0gcHJvY2Vzcy5lbnYuRk9MREVSX1BBVEggfHwgJy90bXAvZmlsZXNfbWFuYWdlcic7XG5cdGNvbnN0IHsgdXNlcklkIH0gPSBhd2FpdCBnZXRJZEFuZEtleShyZXEpO1xuXHRpZiAoIWlzVmFsaWRVc2VyKHVzZXJJZCkpIHJldHVybiByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9KTtcblx0Y29uc3QgdXNlciA9IGF3YWl0IGRiQ2xpZW50LnVzZXJzLmZpbmRPbmUoeyBfaWQ6IE9iamVjdElkKHVzZXJJZCkgfSk7XG5cdGlmICghdXNlcikgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0pO1xuXHRcblx0Y29uc3QgZmlsZU5hbWUgPSByZXEuYm9keS5uYW1lO1xuXHRpZiAoIWZpbGVOYW1lKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoeyBlcnJvcjogJ01pc3NpbmcgbmFtZScgfSk7XG5cdGNvbnN0IGZpbGVUeXBlID0gcmVxLmJvZHkudHlwZTtcblx0aWYgKCFmaWxlVHlwZSB8fCAhWydmb2xkZXInLCAnZmlsZScsICdpbWFnZSddLmluY2x1ZGVzKGZpbGVUeXBlKSkgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKHsgZXJyb3I6ICdNaXNzaW5nIHR5cGUnIH0pO1xuXHRjb25zdCBmaWxlRGF0YSA9IHJlcS5ib2R5LmRhdGE7XG5cdGlmICghZmlsZURhdGEgJiYgZmlsZVR5cGUgIT09ICdmb2xkZXInKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoeyBlcnJvcjogJ01pc3NpbmcgZGF0YScgfSk7XG5cdGNvbnN0IHB1YmxpY0ZpbGUgPSByZXEuYm9keS5pc1B1YmxpYyB8fCBmYWxzZTtcblx0bGV0IHBhcmVudElkID0gcmVxLmJvZHkucGFyZW50SWQgfHwgMDtcblx0cGFyZW50SWQgPSBwYXJlbnRJZCA9PT0gJzAnID8gMCA6IHBhcmVudElkO1xuXHRpZiAocGFyZW50SWQgIT09IDApIHtcblx0ICAgIGNvbnN0IHBhcmVudEZpbGUgPSBhd2FpdCBkYkNsaWVudC5maWxlcy5maW5kT25lKHsgX2lkOiBPYmplY3RJZChwYXJlbnRJZCkgfSk7XG5cdCAgICBpZiAoIXBhcmVudEZpbGUpIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCh7IGVycm9yOiAnUGFyZW50IG5vdCBmb3VuZCcgfSk7XG5cdCAgICBpZiAocGFyZW50RmlsZS50eXBlICE9PSAnZm9sZGVyJykgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKHsgZXJyb3I6ICdQYXJlbnQgaXMgbm90IGEgZm9sZGVyJyB9KTsgICAgXG5cdH1cblx0XG5cdGNvbnN0IGZpbGVJbnNlcnREYXRhID0ge1xuXHQgICAgdXNlcklkOiB1c2VyLl9pZCxcblx0ICAgIG5hbWU6IGZpbGVOYW1lLFxuXHQgICAgdHlwZTogZmlsZVR5cGUsXG5cdCAgICBpc1B1YmxpYzogcHVibGljRmlsZSxcblx0ICAgIHBhcmVudElkLCAgICBcblx0fTtcblx0XG5cdGlmIChmaWxlVHlwZSA9PT0gJ2ZvbGRlcicpIHtcblx0ICAgIGF3YWl0IGRiQ2xpZW50LmZpbGVzLmluc2VydE9uZShmaWxlSW5zZXJ0RGF0YSk7XG5cdCAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLnNlbmQoe1xuXHRcdGlkOiBmaWxlSW5zZXJ0RGF0YS5faWQsXG5cdFx0dXNlcklkOiBmaWxlSW5zZXJ0RGF0YS51c2VySWQsXG5cdFx0bmFtZTogZmlsZUluc2VydERhdGEubmFtZSxcblx0XHR0eXBlOiBmaWxlSW5zZXJ0RGF0YS50eXBlLFxuXHRcdGlzUHVibGljOiBmaWxlSW5zZXJ0RGF0YS5pc1B1YmxpYyxcblx0XHRwYXJlbnRJZDogZmlsZUluc2VydERhdGEucGFyZW50SWQsXHRcblx0ICAgIH0pOyAgIFxuXHR9XG5cdGNvbnN0IGZpbGVVaWQgPSB1dWlkdjQoKTtcblx0Y29uc3QgZGVjRGF0YSA9IEJ1ZmZlci5mcm9tKGZpbGVEYXRhLCAnYmFzZTY0Jyk7XG5cdGNvbnN0IGZpbGVQYXRoID0gYCR7ZGlyfS8ke2ZpbGVVaWR9YDtcblx0XG5cdG1rZGlyKGRpciwgeyByZWN1cnNpdmU6IHRydWUgfSwgKGVycm9yKSA9PiB7XG5cdCAgICBpZiAoZXJyb3IpIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCh7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xuXHQgICAgcmV0dXJuIHRydWU7IFxuXHR9KTtcblx0d3JpdGVGaWxlKGZpbGVQYXRoLCBkZWNEYXRhLCAoZXJyb3IpID0+IHtcblx0ICAgIGlmIChlcnJvcikgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XG5cdCAgICByZXR1cm4gdHJ1ZTtcdCAgICBcblx0fSk7XG5cblx0ZmlsZUluc2VydERhdGEubG9jYWxQYXRoID0gZmlsZVBhdGg7XG5cdGF3YWl0IGRiQ2xpZW50LmZpbGVzLmluc2VydE9uZShmaWxlSW5zZXJ0RGF0YSk7XG5cdGZpbGVRLmFkZCh7XG5cdCAgICB1c2VySWQ6IGZpbGVJbnNlcnREYXRhLnVzZXJJZCxcblx0ICAgIGZpbGVJZDogZmlsZUluc2VydERhdGEuX2lkLFx0ICAgIFxuXHR9KTtcblxuXHRyZXR1cm4gcmVzLnN0YXR1cygyMDEpLnNlbmQoe1xuXHQgICAgaWQ6IGZpbGVJbnNlcnREYXRhLl9pZCxcblx0ICAgIHVzZXJJZDogZmlsZUluc2VydERhdGEudXNlcklkLFxuXHQgICAgbmFtZTogZmlsZUluc2VydERhdGEubmFtZSxcblx0ICAgIHR5cGU6IGZpbGVJbnNlcnREYXRhLnR5cGUsXG5cdCAgICBpc1B1YmxpYzogZmlsZUluc2VydERhdGEuaXNQdWJsaWMsXG5cdCAgICBwYXJlbnRJZDogZmlsZUluc2VydERhdGEucGFyZW50SWQsIFxuXHR9KTtcdFxuICAgIH1cbiAgICBcbiAgICBzdGF0aWMgYXN5bmMgZ2V0U2hvdyhyZXEsIHJlcykge1xuXHRjb25zdCB7IHVzZXJJZCB9ID0gYXdhaXQgZ2V0SWRBbmRLZXkocmVxKTtcblx0aWYgKCFpc1ZhbGlkVXNlcih1c2VySWQpKSByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSk7XG5cdGNvbnN0IHVzZXIgPSBhd2FpdCBkYkNsaWVudC51c2Vycy5maW5kT25lKHsgX2lkOiBPYmplY3RJZCh1c2VySWQpIH0pO1xuXHRpZiAoIXVzZXIpIHJldHVybiByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9KTtcblx0XG5cdGNvbnN0IGZpbGVJZCA9IHJlcS5wYXJhbXMuaWQgfHwgJyc7XG5cdGNvbnN0IGZpbGUgPSBhd2FpdCBkYkNsaWVudC5maWxlcy5maW5kT25lKHsgX2lkOiBPYmplY3RJZChmaWxlSWQpLCB1c2VySWQ6IHVzZXIuX2lkIH0pO1xuXHRpZiAoIWZpbGUpIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IGVycm9yOiAnTm90IGZvdW5kJyB9KTtcblx0XG5cdHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7XG5cdCAgICBpZDogZmlsZS5faWQsXG5cdCAgICB1c2VySWQ6IGZpbGUudXNlcklkLFxuXHQgICAgbmFtZTogZmlsZS5uYW1lLFxuXHQgICAgdHlwZTogZmlsZS50eXBlLFxuXHQgICAgaXNQdWJsaWM6IGZpbGUuaXNQdWJsaWMsXG5cdCAgICBwYXJlbnRJZDogZmlsZS5wYXJlbnRJZCwgXG5cdH0pO1x0XG4gICAgfVxuICAgIFxuICAgIHN0YXRpYyBhc3luYyBnZXRJbmRleChyZXEsIHJlcykge1xuXHRjb25zdCB7IHVzZXJJZCB9ID0gYXdhaXQgZ2V0SWRBbmRLZXkocmVxKTtcblx0aWYgKCFpc1ZhbGlkVXNlcih1c2VySWQpKSByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSk7XG5cdGNvbnN0IHVzZXIgPSBhd2FpdCBkYkNsaWVudC51c2Vycy5maW5kT25lKHsgX2lkOiBPYmplY3RJZCh1c2VySWQpIH0pO1xuXHRpZiAoIXVzZXIpIHJldHVybiByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9KTtcblx0XG5cdGxldCBwYXJlbnRJZCA9IHJlcS5xdWVyeS5wYXJlbnRJZCB8fCAwO1xuXHRpZiAocGFyZW50SWQgPT09ICcwJykgcGFyZW50SWQgPSAwO1xuXHRpZiAocGFyZW50SWQgIT09IDApIHtcblx0ICAgIGlmICghaXNWYWxpZFVzZXIocGFyZW50SWQpKSByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSk7XG5cdCAgICBwYXJlbnRJZCA9IE9iamVjdElkKHBhcmVudElkKTtcblx0ICAgIGNvbnN0IGZvbGRlciA9IGF3YWl0IGRiQ2xpZW50LmZpbGVzLmZpbmRPbmUoeyBfaWQ6IE9iamVjdElkKHBhcmVudElkKSB9KTtcblx0ICAgIGlmICghZm9sZGVyIHx8IGZvbGRlci50eXBlICE9PSAnZm9sZGVyJykgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKFtdKTsgICAgXG5cdH1cblx0XG5cdGNvbnN0IHBhZ2UgPSByZXEucXVlcnkucGFnZSB8fCAwO1xuXHRjb25zdCBhZ2cgPSB7ICRhbmQ6IFt7IHBhcmVudElkIH1dIH07XG5cdGxldCBhZ2dEYXRhID0gW3sgJG1hdGNoOiBhZ2cgfSwgeyAkc2tpcDogcGFnZSAqIDIwIH0sIHsgJGxpbWl0OiAyMCB9XTtcdFxuXHRpZiAocGFyZW50SWQgPT09IDApIGFnZ0RhdGEgPSBbeyAkc2tpcDogcGFnZSAqIDIwIH0sIHsgJGxpbWl0OiAyMCB9XTtcblxuXHRjb25zdCBwYWdlRmlsZXMgPSBhd2FpdCBkYkNsaWVudC5maWxlcy5hZ2dyZWdhdGUoYWdnRGF0YSk7XG5cdGNvbnN0IGZpbGVzID0gW107XG5cdGF3YWl0IHBhZ2VGaWxlcy5mb3JFYWNoKChmaWxlKSA9PiB7XG5cdCAgICBjb25zdCBmaWxlT2JqID0ge1xuXHRcdGlkOiBmaWxlLl9pZCxcblx0XHR1c2VySWQ6IGZpbGUudXNlcklkLFxuXHRcdG5hbWU6IGZpbGUubmFtZSxcblx0XHR0eXBlOiBmaWxlLnR5cGUsXG5cdFx0aXNQdWJsaWM6IGZpbGUuaXNQdWJsaWMsXG5cdFx0cGFyZW50SWQ6IGZpbGUucGFyZW50SWQsXHRcblx0ICAgIH07XG5cdCAgICBmaWxlcy5wdXNoKGZpbGVPYmopOyAgICBcblx0fSk7XG5cdFxuXHRyZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoZmlsZXMpO1x0XG4gICAgfVxuICAgXG4gICAgc3RhdGljIGFzeW5jIHB1dFB1Ymxpc2gocmVxLCByZXMpIHtcblx0Y29uc3QgeyB1c2VySWQgfSA9IGF3YWl0IGdldElkQW5kS2V5KHJlcSk7XG5cdGlmICghaXNWYWxpZFVzZXIodXNlcklkKSkgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0pO1xuXHRcblx0Y29uc3QgdXNlciA9IGF3YWl0IGRiQ2xpZW50LnVzZXJzLmZpbmRPbmUoeyBfaWQ6IE9iamVjdElkKHVzZXJJZCkgfSk7XG5cdGlmICghdXNlcikgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0pO1xuXHRjb25zdCBmaWxlSWQgPSByZXEucGFyYW1zLmlkIHx8ICcnO1xuXHRsZXQgZmlsZSA9IGF3YWl0IGRiQ2xpZW50LmZpbGVzLmZpbmRPbmUoeyBfaWQ6IE9iamVjdElkKGZpbGVJZCksIHVzZXJJZDogdXNlci5faWQgfSk7XG5cdGlmICghZmlsZSkgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgZXJyb3I6ICdOb3QgZm91bmQnIH0pO1xuXHRhd2FpdCBkYkNsaWVudC5maWxlcy51cGRhdGVPbmUoeyBfaWQ6IE9iamVjdElkKGZpbGVJZCkgfSwgeyAkc2V0OiB7IGlzUHVibGljOiB0cnVlIH0gfSk7XG5cdGZpbGUgPSBhd2FpdCBkYkNsaWVudC5maWxlcy5maW5kT25lKHsgX2lkOiBPYmplY3RJZChmaWxlSWQpLCB1c2VySWQ6IHVzZXIuX2lkIH0pO1xuXHRyZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoe1xuXHQgICAgaWQ6IGZpbGUuX2lkLFxuXHQgICAgdXNlcklkOiBmaWxlLnVzZXJJZCxcblx0ICAgIG5hbWU6IGZpbGUubmFtZSxcblx0ICAgIHR5cGU6IGZpbGUudHlwZSxcblx0ICAgIGlzUHVibGljOiBmaWxlLmlzUHVibGljLFxuXHQgICAgcGFyZW50SWQ6IGZpbGUucGFyZW50SWQsIFxuXHR9KTtcdFxuICAgIH1cbiAgICBcbiAgICBzdGF0aWMgYXN5bmMgcHV0VW5wdWJsaXNoKHJlcSwgcmVzKSB7XG5cdGNvbnN0IHsgdXNlcklkIH0gPSBhd2FpdCBnZXRJZEFuZEtleShyZXEpO1xuXHRpZiAoIWlzVmFsaWRVc2VyKHVzZXJJZCkpIHJldHVybiByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9KTtcblx0Y29uc3QgdXNlciA9IGF3YWl0IGRiQ2xpZW50LnVzZXJzLmZpbmRPbmUoeyBfaWQ6IE9iamVjdElkKHVzZXJJZCkgfSk7XG5cdGlmICghdXNlcikgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0pO1xuXHRjb25zdCBmaWxlSWQgPSByZXEucGFyYW1zLmlkIHx8ICcnO1xuXHRsZXQgZmlsZSA9IGF3YWl0IGRiQ2xpZW50LmZpbGVzLmZpbmRPbmUoeyBfaWQ6IE9iamVjdElkKGZpbGVJZCksIHVzZXJJZDogdXNlci5faWQgfSk7XG5cdGlmICghZmlsZSkgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgZXJyb3I6ICdOb3QgZm91bmQnIH0pO1xuXHRhd2FpdCBkYkNsaWVudC5maWxlcy51cGRhdGVPbmUoeyBfaWQ6IE9iamVjdElkKGZpbGVJZCkgfSwgeyAkc2V0OiB7IGlzUHVibGljOiBmYWxzZSB9IH0pO1xuXHRmaWxlID0gYXdhaXQgZGJDbGllbnQuZmlsZXMuZmluZE9uZSh7IF9pZDogT2JqZWN0SWQoZmlsZUlkKSwgdXNlcklkOiB1c2VyLl9pZCB9KTtcblx0cmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcblx0ICAgIGlkOiBmaWxlLl9pZCxcblx0ICAgIHVzZXJJZDogZmlsZS51c2VySWQsXG5cdCAgICBuYW1lOiBmaWxlLm5hbWUsXG5cdCAgICB0eXBlOiBmaWxlLnR5cGUsXG5cdCAgICBpc1B1YmxpYzogZmlsZS5pc1B1YmxpYyxcblx0ICAgIHBhcmVudElkOiBmaWxlLnBhcmVudElkLCBcblx0fSk7XHRcbiAgICB9XG4gICAgXG4gICAgc3RhdGljIGFzeW5jIGdldEZpbGUocmVxLCByZXMpIHtcblx0Y29uc3QgZmlsZUlkID0gcmVxLnBhcmFtcy5pZCB8fCAnJztcblx0Y29uc3Qgc2l6ZSA9IHJlcS5xdWVyeS5zaXplIHx8IDA7XG5cdGNvbnN0IGZpbGUgPSBhd2FpdCBkYkNsaWVudC5maWxlcy5maW5kT25lKHsgX2lkOiBPYmplY3RJZChmaWxlSWQpIH0pO1xuXHRpZiAoIWZpbGUpIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IGVycm9yOiAnTm90IGZvdW5kJyB9KTtcblx0Y29uc3QgeyBpc1B1YmxpYywgdXNlcklkLCB0eXBlIH0gPSBmaWxlO1x0XG5cdGNvbnN0IHsgdXNlcklkOiB1c2VyIH0gPSBhd2FpdCBnZXRJZEFuZEtleShyZXEpO1xuXG5cdGlmICgoIWlzUHVibGljICYmICF1c2VyKSB8fCAodXNlciAmJiB1c2VySWQudG9TdHJpbmcoKSAhPT0gdXNlciAmJiAhaXNQdWJsaWMpKSByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBlcnJvcjogJ05vdCBmb3VuZCcgfSk7XG5cdGlmICh0eXBlID09PSAnZm9sZGVyJykgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKHsgZXJyb3I6ICdBIGZvbGRlciBkb2VzblxcJ3QgaGF2ZSBjb250ZW50JyB9KTtcblx0Y29uc3QgcGF0aCA9IHNpemUgPT09IDAgPyBmaWxlLmxvY2FsUGF0aCA6IGAke2ZpbGUubG9jYWxQYXRofV8ke3NpemV9YDtcblx0XG5cdHRyeSB7XG5cdCAgICBjb25zdCBmaWxlRGF0YSA9IHJlYWRGaWxlU3luYyhwYXRoKTtcblx0ICAgIGNvbnN0IG1pbWVUeXBlID0gbWltZS5jb250ZW50VHlwZShmaWxlLm5hbWUpO1xuXHQgICAgcmVzLnNldEhlYWRlcignQ29udGVudC1UeXBlJywgbWltZVR5cGUpO1xuXHQgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKGZpbGVEYXRhKTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdCAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBlcnJvcjogJ05vdCBmb3VuZCcgfSk7ICAgXG5cdH1cdFxuICAgIH0gICAgXG59XG5cbmV4cG9ydCBkZWZhdWx0IEZpbGVzQ29udHJvbGxlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7K0NBSkEsb0o7Ozs7Ozs7Ozs7OztJQU1NQSxlOzs7Ozs7OzttRkFDRixpQkFBd0JDLEdBQXhCLEVBQTZCQyxHQUE3QjtRQUFBOztRQUFBO1VBQUE7WUFBQTtjQUFBO2dCQUNHQyxLQURILEdBQ1csSUFBSUMsZ0JBQUosQ0FBVSxPQUFWLENBRFg7Z0JBRUdDLEdBRkgsR0FFU0MsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFdBQVosSUFBMkIsb0JBRnBDO2dCQUFBO2dCQUFBLE9BR3NCQyxXQUFXLENBQUNSLEdB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","map":{"version":3,"names":["FilesController","req","res","fileQ","Queue","dir","process","env","FOLDER_PATH","getIdAndKey","userId","isValidUser","status","send","error","dbClient","users","findOne","_id","ObjectId","user","fileName","body","name","fileType","type","includes","fileData","data","publicFile","isPublic","parentId","files","parentFile","fileInsertData","insertOne","id","fileUid","uuidv4","decData","Buffer","from","filePath","mkdir","recursive","message","writeFile","localPath","add","fileId","params","file","query","folder","page","agg","$and","aggData","$match","$skip","$limit","aggregate","pageFiles","forEach","fileObj","push","updateOne","$set","size","toString","path","readFileSync","mimeType","mime","contentType","setHeader"],"sourceRoot":"/root/alx-files_manager/controllers/","sources":["FilesController.js"],"sourcesContent":["import Queue from 'bull';\nimport { ObjectId } from 'mongodb';\nimport { v4 as uuidv4 } from 'uuid';\nimport { mkdir, writeFile, readFileSync } from 'fs';\nimport mime from 'mime-types';\nimport dbClient from '../utils/db';\n\nclass FilesController {\n    static async postUpload(req, res) {\n\tconst fileQ = new Queue('fileQ');\n\tconst dir = process.env.FOLDER_PATH || '/tmp/files_manager';\n\tconst { userId } = await getIdAndKey(req);\n\tif (!isValidUser(userId)) return res.status(401).send({ error: 'Unauthorized' });\n\tconst user = await dbClient.users.findOne({ _id: ObjectId(userId) });\n\tif (!user) return res.status(401).send({ error: 'Unauthorized' });\n\t\n\tconst fileName = req.body.name;\n\tif (!fileName) return res.status(400).send({ error: 'Missing name' });\n\tconst fileType = req.body.type;\n\tif (!fileType || !['folder', 'file', 'image'].includes(fileType)) return res.status(400).send({ error: 'Missing type' });\n\tconst fileData = req.body.data;\n\tif (!fileData && fileType !== 'folder') return res.status(400).send({ error: 'Missing data' });\n\tconst publicFile = req.body.isPublic || false;\n\tlet parentId = req.body.parentId || 0;\n\tparentId = parentId === '0' ? 0 : parentId;\n\tif (parentId !== 0) {\n\t    const parentFile = await dbClient.files.findOne({ _id: ObjectId(parentId) });\n\t    if (!parentFile) return res.status(400).send({ error: 'Parent not found' });\n\t    if (parentFile.type !== 'folder') return res.status(400).send({ error: 'Parent is not a folder' });    \n\t}\n\t\n\tconst fileInsertData = {\n\t    userId: user._id,\n\t    name: fileName,\n\t    type: fileType,\n\t    isPublic: publicFile,\n\t    parentId,    \n\t};\n\t\n\tif (fileType === 'folder') {\n\t    await dbClient.files.insertOne(fileInsertData);\n\t    return res.status(201).send({\n\t\tid: fileInsertData._id,\n\t\tuserId: fileInsertData.userId,\n\t\tname: fileInsertData.name,\n\t\ttype: fileInsertData.type,\n\t\tisPublic: fileInsertData.isPublic,\n\t\tparentId: fileInsertData.parentId,\t\n\t    });   \n\t}\n\tconst fileUid = uuidv4();\n\tconst decData = Buffer.from(fileData, 'base64');\n\tconst filePath = `${dir}/${fileUid}`;\n\t\n\tmkdir(dir, { recursive: true }, (error) => {\n\t    if (error) return res.status(400).send({ error: error.message });\n\t    return true; \n\t});\n\twriteFile(filePath, decData, (error) => {\n\t    if (error) return res.status(400).send({ error: error.message });\n\t    return true;\t    \n\t});\n\n\tfileInsertData.localPath = filePath;\n\tawait dbClient.files.insertOne(fileInsertData);\n\tfileQ.add({\n\t    userId: fileInsertData.userId,\n\t    fileId: fileInsertData._id,\t    \n\t});\n\n\treturn res.status(201).send({\n\t    id: fileInsertData._id,\n\t    userId: fileInsertData.userId,\n\t    name: fileInsertData.name,\n\t    type: fileInsertData.type,\n\t    isPublic: fileInsertData.isPublic,\n\t    parentId: fileInsertData.parentId, \n\t});\t\n    }\n    \n    static async getShow(req, res) {\n\tconst { userId } = await getIdAndKey(req);\n\tif (!isValidUser(userId)) return res.status(401).send({ error: 'Unauthorized' });\n\tconst user = await dbClient.users.findOne({ _id: ObjectId(userId) });\n\tif (!user) return res.status(401).send({ error: 'Unauthorized' });\n\t\n\tconst fileId = req.params.id || '';\n\tconst file = await dbClient.files.findOne({ _id: ObjectId(fileId), userId: user._id });\n\tif (!file) return res.status(404).send({ error: 'Not found' });\n\t\n\treturn res.status(200).send({\n\t    id: file._id,\n\t    userId: file.userId,\n\t    name: file.name,\n\t    type: file.type,\n\t    isPublic: file.isPublic,\n\t    parentId: file.parentId, \n\t});\t\n    }\n    \n    static async getIndex(req, res) {\n\tconst { userId } = await getIdAndKey(req);\n\tif (!isValidUser(userId)) return res.status(401).send({ error: 'Unauthorized' });\n\tconst user = await dbClient.users.findOne({ _id: ObjectId(userId) });\n\tif (!user) return res.status(401).send({ error: 'Unauthorized' });\n\t\n\tlet parentId = req.query.parentId || 0;\n\tif (parentId === '0') parentId = 0;\n\tif (parentId !== 0) {\n\t    if (!isValidUser(parentId)) return res.status(401).send({ error: 'Unauthorized' });\n\t    parentId = ObjectId(parentId);\n\t    const folder = await dbClient.files.findOne({ _id: ObjectId(parentId) });\n\t    if (!folder || folder.type !== 'folder') return res.status(200).send([]);    \n\t}\n\t\n\tconst page = req.query.page || 0;\n\tconst agg = { $and: [{ parentId }] };\n\tlet aggData = [{ $match: agg }, { $skip: page * 20 }, { $limit: 20 }];\t\n\tif (parentId === 0) aggData = [{ $skip: page * 20 }, { $limit: 20 }];\n\n\tconst pageFiles = await dbClient.files.aggregate(aggData);\n\tconst files = [];\n\tawait pageFiles.forEach((file) => {\n\t    const fileObj = {\n\t\tid: file._id,\n\t\tuserId: file.userId,\n\t\tname: file.name,\n\t\ttype: file.type,\n\t\tisPublic: file.isPublic,\n\t\tparentId: file.parentId,\t\n\t    };\n\t    files.push(fileObj);    \n\t});\n\t\n\treturn res.status(200).send(files);\t\n    }\n   \n    static async putPublish(req, res) {\n\tconst { userId } = await getIdAndKey(req);\n\tif (!isValidUser(userId)) return res.status(401).send({ error: 'Unauthorized' });\n\t\n\tconst user = await dbClient.users.findOne({ _id: ObjectId(userId) });\n\tif (!user) return res.status(401).send({ error: 'Unauthorized' });\n\tconst fileId = req.params.id || '';\n\tlet file = await dbClient.files.findOne({ _id: ObjectId(fileId), userId: user._id });\n\tif (!file) return res.status(404).send({ error: 'Not found' });\n\tawait dbClient.files.updateOne({ _id: ObjectId(fileId) }, { $set: { isPublic: true } });\n\tfile = await dbClient.files.findOne({ _id: ObjectId(fileId), userId: user._id });\n\treturn res.status(200).send({\n\t    id: file._id,\n\t    userId: file.userId,\n\t    name: file.name,\n\t    type: file.type,\n\t    isPublic: file.isPublic,\n\t    parentId: file.parentId, \n\t});\t\n    }\n    \n    static async putUnpublish(req, res) {\n\tconst { userId } = await getIdAndKey(req);\n\tif (!isValidUser(userId)) return res.status(401).send({ error: 'Unauthorized' });\n\tconst user = await dbClient.users.findOne({ _id: ObjectId(userId) });\n\tif (!user) return res.status(401).send({ error: 'Unauthorized' });\n\tconst fileId = req.params.id || '';\n\tlet file = await dbClient.files.findOne({ _id: ObjectId(fileId), userId: user._id });\n\tif (!file) return res.status(404).send({ error: 'Not found' });\n\tawait dbClient.files.updateOne({ _id: ObjectId(fileId) }, { $set: { isPublic: false } });\n\tfile = await dbClient.files.findOne({ _id: ObjectId(fileId), userId: user._id });\n\treturn res.status(200).send({\n\t    id: file._id,\n\t    userId: file.userId,\n\t    name: file.name,\n\t    type: file.type,\n\t    isPublic: file.isPublic,\n\t    parentId: file.parentId, \n\t});\t\n    }\n    \n    static async getFile(req, res) {\n\tconst fileId = req.params.id || '';\n\tconst size = req.query.size || 0;\n\tconst file = await dbClient.files.findOne({ _id: ObjectId(fileId) });\n\tif (!file) return res.status(404).send({ error: 'Not found' });\n\tconst { isPublic, userId, type } = file;\t\n\tconst { userId: user } = await getIdAndKey(req);\n\n\tif ((!isPublic && !user) || (user && userId.toString() !== user && !isPublic)) return res.status(404).send({ error: 'Not found' });\n\tif (type === 'folder') return res.status(400).send({ error: 'A folder doesn\\'t have content' });\n\tconst path = size === 0 ? file.localPath : `${file.localPath}_${size}`;\n\t\n\ttry {\n\t    const fileData = readFileSync(path);\n\t    const mimeType = mime.contentType(file.name);\n\t    res.setHeader('Content-Type', mimeType);\n\t    return res.status(200).send(fileData);\n\t} catch (err) {\n\t    return res.status(404).send({ error: 'Not found' });   \n\t}\t\n    }    \n}\n\nexport default FilesController;\n"],"mappings":"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"}},"mtime":1655707930028},"{\"assumptions\":{},\"sourceRoot\":\"/root/alx-files_manager/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/root/alx-files_manager\",\"filename\":\"/root/alx-files_manager/controllers/UsersController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/root/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.2:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _sha = _interopRequireDefault(require(\"sha1\"));\n\nvar _bull = _interopRequireDefault(require(\"bull\"));\n\nvar _mongodb = require(\"mongodb\");\n\nvar _db = _interopRequireDefault(require(\"../utils/db\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar userQ = new _bull[\"default\"]('userQ');\n\nvar UsersController = /*#__PURE__*/function () {\n  function UsersController() {\n    _classCallCheck(this, UsersController);\n  }\n\n  _createClass(UsersController, null, [{\n    key: \"postNew\",\n    value: function () {\n      var _postNew = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n        var _req$body, email, password, emailExists, secPass, insertStat, createdUser;\n\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _req$body = req.body, email = _req$body.email, password = _req$body.password;\n\n                if (email) {\n                  _context.next = 3;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", res.status(400).send({\n                  error: 'Missing email'\n                }));\n\n              case 3:\n                if (password) {\n                  _context.next = 5;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", res.status(400).send({\n                  error: 'Missing password'\n                }));\n\n              case 5:\n                _context.next = 7;\n                return _db[\"default\"].users.findOne({\n                  email: email\n                });\n\n              case 7:\n                emailExists = _context.sent;\n\n                if (!emailExists) {\n                  _context.next = 10;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", res.status(400).send({\n                  error: 'Already exist'\n                }));\n\n              case 10:\n                secPass = (0, _sha[\"default\"])(password);\n                _context.next = 13;\n                return _db[\"default\"].users.insertOne({\n                  email: email,\n                  password: secPass\n                });\n\n              case 13:\n                insertStat = _context.sent;\n                createdUser = {\n                  id: insertStat.insertedId,\n                  email: email\n                };\n                _context.next = 17;\n                return userQ.add({\n                  userId: insertStat.insertedId.toString()\n                });\n\n              case 17:\n                return _context.abrupt(\"return\", res.status(201).send(createdUser));\n\n              case 18:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function postNew(_x, _x2) {\n        return _postNew.apply(this, arguments);\n      }\n\n      return postNew;\n    }()\n  }, {\n    key: \"getMe\",\n    value: function () {\n      var _getMe = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n        var user_token, user_key, user, userInfo;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                user_token = request.header('X-Token');\n                user_key = \"auth_\".concat(user_token);\n                _context2.next = 4;\n                return _db[\"default\"].users.findOne({\n                  _id: (0, _mongodb.ObjectId)(userId)\n                });\n\n              case 4:\n                user = _context2.sent;\n\n                if (user) {\n                  _context2.next = 7;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", res.status(401).send({\n                  error: 'Unauthorized'\n                }));\n\n              case 7:\n                userInfo = _objectSpread({\n                  id: user._id\n                }, user);\n                delete userInfo._id;\n                delete userInfo.password;\n                return _context2.abrupt(\"return\", res.status(200).send(userInfo));\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function getMe(_x3, _x4) {\n        return _getMe.apply(this, arguments);\n      }\n\n      return getMe;\n    }()\n  }]);\n\n  return UsersController;\n}();\n\nvar _default = UsersController;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyUSIsIlF1ZXVlIiwiVXNlcnNDb250cm9sbGVyIiwicmVxIiwicmVzIiwiYm9keSIsImVtYWlsIiwicGFzc3dvcmQiLCJzdGF0dXMiLCJzZW5kIiwiZXJyb3IiLCJkYkNsaWVudCIsInVzZXJzIiwiZmluZE9uZSIsImVtYWlsRXhpc3RzIiwic2VjUGFzcyIsInNoYTEiLCJpbnNlcnRPbmUiLCJpbnNlcnRTdGF0IiwiY3JlYXRlZFVzZXIiLCJpZCIsImluc2VydGVkSWQiLCJhZGQiLCJ1c2VySWQiLCJ0b1N0cmluZyIsInVzZXJfdG9rZW4iLCJyZXF1ZXN0IiwiaGVhZGVyIiwidXNlcl9rZXkiLCJfaWQiLCJPYmplY3RJZCIsInVzZXIiLCJ1c2VySW5mbyJdLCJzb3VyY2VSb290IjoiL3Jvb3QvYWx4LWZpbGVzX21hbmFnZXIvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJVc2Vyc0NvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHNoYTEgZnJvbSAnc2hhMSc7XG5pbXBvcnQgUXVldWUgZnJvbSAnYnVsbCc7XG5pbXBvcnQgeyBPYmplY3RJZCB9IGZyb20gJ21vbmdvZGInO1xuaW1wb3J0IGRiQ2xpZW50IGZyb20gJy4uL3V0aWxzL2RiJztcblxuY29uc3QgdXNlclEgPSBuZXcgUXVldWUoJ3VzZXJRJyk7XG5cbmNsYXNzIFVzZXJzQ29udHJvbGxlciB7XG4gICAgc3RhdGljIGFzeW5jIHBvc3ROZXcocmVxLCByZXMpIHtcblx0Y29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuXHRpZiAoIWVtYWlsKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoeyBlcnJvcjogJ01pc3NpbmcgZW1haWwnIH0pO1xuXHRpZiAoIXBhc3N3b3JkKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoeyBlcnJvcjogJ01pc3NpbmcgcGFzc3dvcmQnIH0pO1xuXHRjb25zdCBlbWFpbEV4aXN0cyA9IGF3YWl0IGRiQ2xpZW50LnVzZXJzLmZpbmRPbmUoeyBlbWFpbCB9KTtcblx0aWYgKGVtYWlsRXhpc3RzKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoeyBlcnJvcjogJ0FscmVhZHkgZXhpc3QnIH0pO1xuXHRjb25zdCBzZWNQYXNzID0gc2hhMShwYXNzd29yZCk7XG5cdGNvbnN0IGluc2VydFN0YXQgPSBhd2FpdCBkYkNsaWVudC51c2Vycy5pbnNlcnRPbmUoe1xuXHQgICAgZW1haWwsXG5cdCAgICBwYXNzd29yZDogc2VjUGFzcywgXG5cdH0pO1xuXHRjb25zdCBjcmVhdGVkVXNlciA9IHtcblx0ICAgIGlkOiBpbnNlcnRTdGF0Lmluc2VydGVkSWQsXG5cdCAgICBlbWFpbCwgICAgXG5cdH07XG5cdFxuXHRhd2FpdCB1c2VyUS5hZGQoe1xuXHQgICAgdXNlcklkOiBpbnNlcnRTdGF0Lmluc2VydGVkSWQudG9TdHJpbmcoKSwgXG5cdH0pO1xuXHRyZXR1cm4gcmVzLnN0YXR1cygyMDEpLnNlbmQoY3JlYXRlZFVzZXIpO1x0XG4gICAgfVxuICAgXG4gICAgc3RhdGljIGFzeW5jIGdldE1lKHJlcSwgcmVzKSB7XG5cdGNvbnN0IHVzZXJfdG9rZW4gPSByZXF1ZXN0LmhlYWRlcignWC1Ub2tlbicpO1xuXHRjb25zdCB1c2VyX2tleSA9IGBhdXRoXyR7dXNlcl90b2tlbn1gO1xuXHRjb25zdCB1c2VyID0gYXdhaXQgZGJDbGllbnQudXNlcnMuZmluZE9uZSh7IF9pZDogT2JqZWN0SWQodXNlcklkKSB9KTtcdFxuXHRpZiAoIXVzZXIpIHJldHVybiByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9KTtcblxuXHRjb25zdCB1c2VySW5mbyA9IHsgaWQ6IHVzZXIuX2lkLCAuLi51c2VyIH07XG5cdGRlbGV0ZSB1c2VySW5mby5faWQ7XG5cdGRlbGV0ZSB1c2VySW5mby5wYXNzd29yZDtcblx0cmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHVzZXJJbmZvKTtcdFxuICAgIH0gICAgXG59XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXJzQ29udHJvbGxlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7Ozs7K0NBRkEsb0o7Ozs7Ozs7Ozs7OztBQUlBLElBQU1BLEtBQUssR0FBRyxJQUFJQyxnQkFBSixDQUFVLE9BQVYsQ0FBZDs7SUFFTUMsZTs7Ozs7Ozs7Z0ZBQ0YsaUJBQXFCQyxHQUFyQixFQUEwQkMsR0FBMUI7UUFBQTs7UUFBQTtVQUFBO1lBQUE7Y0FBQTtnQkFBQSxZQUN5QkQsR0FBRyxDQUFDRSxJQUQ3QixFQUNLQyxLQURMLGFBQ0tBLEtBREwsRUFDWUMsUUFEWixhQUNZQSxRQURaOztnQkFBQSxJQUVFRCxLQUZGO2tCQUFBO2tCQUFBO2dCQUFBOztnQkFBQSxpQ0FFZ0JGLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO2tCQUFFQyxLQUFLLEVBQUU7Z0JBQVQsQ0FBckIsQ0FGaEI7O2NBQUE7Z0JBQUEsSUFHRUgsUUFIRjtrQkFBQTtrQkFBQTtnQkFBQTs7Z0JBQUEsaUNBR21CSCxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtrQkFBRUMsS0FBSyxFQUFFO2dCQUFULENBQXJCLENBSG5COztjQUFBO2dCQUFBO2dCQUFBLE9BSXVCQyxjQUFBLENBQVNDLEtBQVQsQ0FBZUMsT0FBZixDQUF1QjtrQkFBRVAsS0FBSyxFQUFMQTtnQkFBRixDQUF2QixDQUp2Qjs7Y0FBQTtnQkFJR1EsV0FKSDs7Z0JBQUEsS0FLQ0EsV0FMRDtrQkFBQTtrQkFBQTtnQkFBQTs7Z0JBQUEsaUNBS3FCVixHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtrQkFBRUMsS0FBSyxFQUFFO2dCQUFULENBQXJCLENBTHJCOztjQUFBO2dCQU1HSyxPQU5ILEdBTWEsSUFBQUMsZUFBQSxFQUFLVCxRQUFMLENBTmI7Z0JBQUE7Z0JBQUEsT0FPc0JJLGNBQUEsQ0FBU0MsS0FBVCxDQUFlSyxTQUFmLENBQXlCO2tCQUM5Q1gsS0FBSyxFQUFMQSxLQUQ4QztrQkFFOUNDLFFBQVEsRUFBRVE7Z0JBRm9DLENBQXpCLENBUHRCOztjQUFBO2dCQU9HRyxVQVBIO2dCQVdHQyxXQVhILEdBV2lCO2tCQUNoQkMsRUFBRSxFQUFFRixVQUFVLENBQUNHLFVBREM7a0JBRWhCZixLQUFLLEVBQUxBO2dCQUZnQixDQVhqQjtnQkFBQTtnQkFBQSxPQWdCR04sS0FBSyxDQUFDc0IsR0FBTixDQUFVO2tCQUNaQyxNQUFNLEVBQUVMLFVBQVUsQ0FBQ0csVUFBWCxDQUFzQkcsUUFBdEI7Z0JBREksQ0FBVixDQWhCSDs7Y0FBQTtnQkFBQSxpQ0FtQklwQixHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQlUsV0FBckIsQ0FuQko7O2NBQUE7Y0FBQTtnQkFBQTtZQUFBO1VBQUE7UUFBQTtNQUFBLEM7Ozs7Ozs7Ozs7OzhFQXNCQSxrQkFBbUJoQixHQUFuQixFQUF3QkMsR0FBeEI7UUFBQTtRQUFBO1VBQUE7WUFBQTtjQUFBO2dCQUNHcUIsVUFESCxHQUNnQkMsT0FBTyxDQUFDQyxNQUFSLENBQWUsU0FBZixDQURoQjtnQkFFR0MsUUFGSCxrQkFFc0JILFVBRnRCO2dCQUFBO2dCQUFBLE9BR2dCZCxjQUFBLENBQVNDLEtBQVQsQ0FBZUMsT0FBZixDQUF1QjtrQkFBRWdCLEdBQUcsRUFBRSxJQUFBQyxpQkFBQSxFQUFTUCxNQUFUO2dCQUFQLENBQXZCLENBSGhCOztjQUFBO2dCQUdHUSxJQUhIOztnQkFBQSxJQUlFQSxJQUpGO2tCQUFBO2tCQUFBO2dCQUFBOztnQkFBQSxrQ0FJZTNCLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO2tCQUFFQyxLQUFLLEVBQUU7Z0JBQVQsQ0FBckIsQ0FKZjs7Y0FBQTtnQkFNR3NCLFFBTkg7a0JBTWdCWixFQUFFLEVBQUVXLElBQUksQ0FBQ0Y7Z0JBTnpCLEdBTWlDRSxJQU5qQztnQkFPSCxPQUFPQyxRQUFRLENBQUNILEdBQWhCO2dCQUNBLE9BQU9HLFFBQVEsQ0FBQ3pCLFFBQWhCO2dCQVJHLGtDQVNJSCxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQnVCLFFBQXJCLENBVEo7O2NBQUE7Y0FBQTtnQkFBQTtZQUFBO1VBQUE7UUFBQTtNQUFBLEM7Ozs7Ozs7Ozs7Ozs7ZUFhVzlCLGUifQ==","map":{"version":3,"names":["userQ","Queue","UsersController","req","res","body","email","password","status","send","error","dbClient","users","findOne","emailExists","secPass","sha1","insertOne","insertStat","createdUser","id","insertedId","add","userId","toString","user_token","request","header","user_key","_id","ObjectId","user","userInfo"],"sourceRoot":"/root/alx-files_manager/controllers/","sources":["UsersController.js"],"sourcesContent":["import sha1 from 'sha1';\nimport Queue from 'bull';\nimport { ObjectId } from 'mongodb';\nimport dbClient from '../utils/db';\n\nconst userQ = new Queue('userQ');\n\nclass UsersController {\n    static async postNew(req, res) {\n\tconst { email, password } = req.body;\n\tif (!email) return res.status(400).send({ error: 'Missing email' });\n\tif (!password) return res.status(400).send({ error: 'Missing password' });\n\tconst emailExists = await dbClient.users.findOne({ email });\n\tif (emailExists) return res.status(400).send({ error: 'Already exist' });\n\tconst secPass = sha1(password);\n\tconst insertStat = await dbClient.users.insertOne({\n\t    email,\n\t    password: secPass, \n\t});\n\tconst createdUser = {\n\t    id: insertStat.insertedId,\n\t    email,    \n\t};\n\t\n\tawait userQ.add({\n\t    userId: insertStat.insertedId.toString(), \n\t});\n\treturn res.status(201).send(createdUser);\t\n    }\n   \n    static async getMe(req, res) {\n\tconst user_token = request.header('X-Token');\n\tconst user_key = `auth_${user_token}`;\n\tconst user = await dbClient.users.findOne({ _id: ObjectId(userId) });\t\n\tif (!user) return res.status(401).send({ error: 'Unauthorized' });\n\n\tconst userInfo = { id: user._id, ...user };\n\tdelete userInfo._id;\n\tdelete userInfo.password;\n\treturn res.status(200).send(userInfo);\t\n    }    \n}\n\nexport default UsersController;\n"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;;;;;+CAFA,oJ;;;;;;;;;;;;AAIA,IAAMA,KAAK,GAAG,IAAIC,gBAAJ,CAAU,OAAV,CAAd;;IAEMC,e;;;;;;;;gFACF,iBAAqBC,GAArB,EAA0BC,GAA1B;QAAA;;QAAA;UAAA;YAAA;cAAA;gBAAA,YACyBD,GAAG,CAACE,IAD7B,EACKC,KADL,aACKA,KADL,EACYC,QADZ,aACYA,QADZ;;gBAAA,IAEED,KAFF;kBAAA;kBAAA;gBAAA;;gBAAA,iCAEgBF,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;kBAAEC,KAAK,EAAE;gBAAT,CAArB,CAFhB;;cAAA;gBAAA,IAGEH,QAHF;kBAAA;kBAAA;gBAAA;;gBAAA,iCAGmBH,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;kBAAEC,KAAK,EAAE;gBAAT,CAArB,CAHnB;;cAAA;gBAAA;gBAAA,OAIuBC,cAAA,CAASC,KAAT,CAAeC,OAAf,CAAuB;kBAAEP,KAAK,EAALA;gBAAF,CAAvB,CAJvB;;cAAA;gBAIGQ,WAJH;;gBAAA,KAKCA,WALD;kBAAA;kBAAA;gBAAA;;gBAAA,iCAKqBV,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;kBAAEC,KAAK,EAAE;gBAAT,CAArB,CALrB;;cAAA;gBAMGK,OANH,GAMa,IAAAC,eAAA,EAAKT,QAAL,CANb;gBAAA;gBAAA,OAOsBI,cAAA,CAASC,KAAT,CAAeK,SAAf,CAAyB;kBAC9CX,KAAK,EAALA,KAD8C;kBAE9CC,QAAQ,EAAEQ;gBAFoC,CAAzB,CAPtB;;cAAA;gBAOGG,UAPH;gBAWGC,WAXH,GAWiB;kBAChBC,EAAE,EAAEF,UAAU,CAACG,UADC;kBAEhBf,KAAK,EAALA;gBAFgB,CAXjB;gBAAA;gBAAA,OAgBGN,KAAK,CAACsB,GAAN,CAAU;kBACZC,MAAM,EAAEL,UAAU,CAACG,UAAX,CAAsBG,QAAtB;gBADI,CAAV,CAhBH;;cAAA;gBAAA,iCAmBIpB,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBU,WAArB,CAnBJ;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;8EAsBA,kBAAmBhB,GAAnB,EAAwBC,GAAxB;QAAA;QAAA;UAAA;YAAA;cAAA;gBACGqB,UADH,GACgBC,OAAO,CAACC,MAAR,CAAe,SAAf,CADhB;gBAEGC,QAFH,kBAEsBH,UAFtB;gBAAA;gBAAA,OAGgBd,cAAA,CAASC,KAAT,CAAeC,OAAf,CAAuB;kBAAEgB,GAAG,EAAE,IAAAC,iBAAA,EAASP,MAAT;gBAAP,CAAvB,CAHhB;;cAAA;gBAGGQ,IAHH;;gBAAA,IAIEA,IAJF;kBAAA;kBAAA;gBAAA;;gBAAA,kCAIe3B,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;kBAAEC,KAAK,EAAE;gBAAT,CAArB,CAJf;;cAAA;gBAMGsB,QANH;kBAMgBZ,EAAE,EAAEW,IAAI,CAACF;gBANzB,GAMiCE,IANjC;gBAOH,OAAOC,QAAQ,CAACH,GAAhB;gBACA,OAAOG,QAAQ,CAACzB,QAAhB;gBARG,kCASIH,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBuB,QAArB,CATJ;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;;;eAaW9B,e"}},"mtime":1655708099536}}